!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self,function(){var r=t["mini-rsa"],n=t["mini-rsa"]=e();n.noConflict=function(){return t["mini-rsa"]=r,n}}())}(this,function(){"use strict";function t(t,e){return t(e={exports:{}},e.exports),e.exports}var e=t(function(t){var e=t.exports={version:"2.6.9"};"number"==typeof __e&&(__e=e)}),r=(e.version,e.JSON||(e.JSON={stringify:JSON.stringify})),n=function(t){return r.stringify.apply(r,arguments)},i={E2BIG:7,EACCES:13,EADDRINUSE:48,EADDRNOTAVAIL:49,EAFNOSUPPORT:47,EAGAIN:35,EALREADY:37,EBADF:9,EBADMSG:94,EBUSY:16,ECANCELED:89,ECHILD:10,ECONNABORTED:53,ECONNREFUSED:61,ECONNRESET:54,EDEADLK:11,EDESTADDRREQ:39,EDOM:33,EDQUOT:69,EEXIST:17,EFAULT:14,EFBIG:27,EHOSTUNREACH:65,EIDRM:90,EILSEQ:92,EINPROGRESS:36,EINTR:4,EINVAL:22,EIO:5,EISCONN:56,EISDIR:21,ELOOP:62,EMFILE:24,EMLINK:31,EMSGSIZE:40,EMULTIHOP:95,ENAMETOOLONG:63,ENETDOWN:50,ENETRESET:52,ENETUNREACH:51,ENFILE:23,ENOBUFS:55,ENODATA:96,ENODEV:19,ENOENT:2,ENOEXEC:8,ENOLCK:77,ENOLINK:97,ENOMEM:12,ENOMSG:91,ENOPROTOOPT:42,ENOSPC:28,ENOSR:98,ENOSTR:99,ENOSYS:78,ENOTCONN:57,ENOTDIR:20,ENOTEMPTY:66,ENOTSOCK:38,ENOTSUP:45,ENOTTY:25,ENXIO:6,EOPNOTSUPP:102,EOVERFLOW:84,EPERM:1,EPIPE:32,EPROTO:100,EPROTONOSUPPORT:43,EPROTOTYPE:41,ERANGE:34,EROFS:30,ESPIPE:29,ESRCH:3,ESTALE:70,ETIME:101,ETIMEDOUT:60,ETXTBSY:26,EWOULDBLOCK:35,EXDEV:18,SIGHUP:1,SIGINT:2,SIGQUIT:3,SIGILL:4,SIGTRAP:5,SIGABRT:6,SIGIOT:6,SIGBUS:10,SIGFPE:8,SIGKILL:9,SIGUSR1:30,SIGSEGV:11,SIGUSR2:31,SIGPIPE:13,SIGALRM:14,SIGTERM:15,SIGCHLD:20,SIGCONT:19,SIGSTOP:17,SIGTSTP:18,SIGTTIN:21,SIGTTOU:22,SIGURG:16,SIGXCPU:24,SIGXFSZ:25,SIGVTALRM:26,SIGPROF:27,SIGWINCH:28,SIGIO:23,SIGINFO:29,SIGSYS:12,O_RDONLY:0,O_WRONLY:1,O_RDWR:2,S_IFMT:61440,S_IFREG:32768,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960,S_IFSOCK:49152,O_CREAT:512,O_EXCL:2048,O_NOCTTY:131072,O_TRUNC:1024,O_APPEND:8,O_DIRECTORY:1048576,O_NOFOLLOW:256,O_SYNC:128,O_SYMLINK:2097152,O_NONBLOCK:4,S_IRWXU:448,S_IRUSR:256,S_IWUSR:128,S_IXUSR:64,S_IRWXG:56,S_IRGRP:32,S_IWGRP:16,S_IXGRP:8,S_IRWXO:7,S_IROTH:4,S_IWOTH:2,S_IXOTH:1,F_OK:0,R_OK:4,W_OK:2,X_OK:1,SSL_OP_ALL:2147486719,SSL_OP_ALLOW_UNSAFE_LEGACY_RENEGOTIATION:262144,SSL_OP_CIPHER_SERVER_PREFERENCE:4194304,SSL_OP_CISCO_ANYCONNECT:32768,SSL_OP_COOKIE_EXCHANGE:8192,SSL_OP_CRYPTOPRO_TLSEXT_BUG:2147483648,SSL_OP_DONT_INSERT_EMPTY_FRAGMENTS:2048,SSL_OP_EPHEMERAL_RSA:0,SSL_OP_LEGACY_SERVER_CONNECT:4,SSL_OP_MICROSOFT_BIG_SSLV3_BUFFER:32,SSL_OP_MICROSOFT_SESS_ID_BUG:1,SSL_OP_MSIE_SSLV2_RSA_PADDING:0,SSL_OP_NETSCAPE_CA_DN_BUG:536870912,SSL_OP_NETSCAPE_CHALLENGE_BUG:2,SSL_OP_NETSCAPE_DEMO_CIPHER_CHANGE_BUG:1073741824,SSL_OP_NETSCAPE_REUSE_CIPHER_CHANGE_BUG:8,SSL_OP_NO_COMPRESSION:131072,SSL_OP_NO_QUERY_MTU:4096,SSL_OP_NO_SESSION_RESUMPTION_ON_RENEGOTIATION:65536,SSL_OP_NO_SSLv2:16777216,SSL_OP_NO_SSLv3:33554432,SSL_OP_NO_TICKET:16384,SSL_OP_NO_TLSv1:67108864,SSL_OP_NO_TLSv1_1:268435456,SSL_OP_NO_TLSv1_2:134217728,SSL_OP_PKCS1_CHECK_1:0,SSL_OP_PKCS1_CHECK_2:0,SSL_OP_SINGLE_DH_USE:1048576,SSL_OP_SINGLE_ECDH_USE:524288,SSL_OP_SSLEAY_080_CLIENT_DH_BUG:128,SSL_OP_SSLREF2_REUSE_CERT_TYPE_BUG:0,SSL_OP_TLS_BLOCK_PADDING_BUG:512,SSL_OP_TLS_D5_BUG:256,SSL_OP_TLS_ROLLBACK_BUG:8388608,ENGINE_METHOD_RSA:1,ENGINE_METHOD_DSA:2,ENGINE_METHOD_DH:4,ENGINE_METHOD_RAND:8,ENGINE_METHOD_ECDH:16,ENGINE_METHOD_ECDSA:32,ENGINE_METHOD_CIPHERS:64,ENGINE_METHOD_DIGESTS:128,ENGINE_METHOD_STORE:256,ENGINE_METHOD_PKEY_METHS:512,ENGINE_METHOD_PKEY_ASN1_METHS:1024,ENGINE_METHOD_ALL:65535,ENGINE_METHOD_NONE:0,DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6,defaultCoreCipherList:"ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA256:ECDHE-RSA-AES256-SHA384:DHE-RSA-AES256-SHA384:ECDHE-RSA-AES256-SHA256:DHE-RSA-AES256-SHA256:HIGH:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!PSK:!SRP:!CAMELLIA",defaultCipherList:"ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA256:ECDHE-RSA-AES256-SHA384:DHE-RSA-AES256-SHA384:ECDHE-RSA-AES256-SHA256:DHE-RSA-AES256-SHA256:HIGH:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!PSK:!SRP:!CAMELLIA"},o=t(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),s=function(t,e,r){if(function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!")}(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)}}return function(){return t.apply(e,arguments)}},f=function(t){return"object"==typeof t?null!==t:"function"==typeof t},u=function(t){if(!f(t))throw TypeError(t+" is not an object!");return t},h=function(t){try{return!!t()}catch(t){return!0}},a=!h(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),c=o.document,p=f(c)&&f(c.createElement),l=function(t){return p?c.createElement(t):{}},y=!a&&!h(function(){return 7!=Object.defineProperty(l("div"),"a",{get:function(){return 7}}).a}),g=function(t,e){if(!f(t))return t;var r,n;if(e&&"function"==typeof(r=t.toString)&&!f(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!f(n=r.call(t)))return n;if(!e&&"function"==typeof(r=t.toString)&&!f(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")},m=Object.defineProperty,d={f:a?Object.defineProperty:function(t,e,r){if(u(t),e=g(e,!0),u(r),y)try{return m(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},S=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},E=a?function(t,e,r){return d.f(t,e,S(1,r))}:function(t,e,r){return t[e]=r,t},v={}.hasOwnProperty,b=function(t,e){return v.call(t,e)},_=function(t,r,n){var i,f,u,h=t&_.F,a=t&_.G,c=t&_.S,p=t&_.P,l=t&_.B,y=t&_.W,g=a?e:e[r]||(e[r]={}),m=g.prototype,d=a?o:c?o[r]:(o[r]||{}).prototype;for(i in a&&(n=r),n)(f=!h&&d&&void 0!==d[i])&&b(g,i)||(u=f?d[i]:n[i],g[i]=a&&"function"!=typeof d[i]?n[i]:l&&f?s(u,o):y&&d[i]==u?function(t){var e=function(e,r,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,r)}return new t(e,r,n)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(u):p&&"function"==typeof u?s(Function.call,u):u,p&&((g.virtual||(g.virtual={}))[i]=u,t&_.R&&m&&!m[i]&&E(m,i,u)))};_.F=1,_.G=2,_.S=4,_.P=8,_.B=16,_.W=32,_.U=64,_.R=128;var w=_;w(w.S+w.F*!a,"Object",{defineProperty:d.f});var O=e.Object,T=function(t,e,r){return O.defineProperty(t,e,r)},B=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},A="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",I="["+A+"]",P=RegExp("^"+I+I+"*"),R=RegExp(I+I+"*$"),D=function(t,e,r){var n={},i=h(function(){return!!A[t]()||"​"!="​"[t]()}),o=n[t]=i?e(N):A[t];r&&(n[r]=o),w(w.P+w.F*i,"String",n)},N=D.trim=function(t,e){return t=String(B(t)),1&e&&(t=t.replace(P,"")),2&e&&(t=t.replace(R,"")),t},L=D,k=o.parseInt,x=L.trim,C=/^[-+]?0[xX]/,M=8!==k(A+"08")||22!==k(A+"0x16")?function(t,e){var r=x(String(t),3);return k(r,e>>>0||(C.test(r)?16:10))}:k;w(w.G+w.F*(parseInt!=M),{parseInt:M});var U=e.parseInt,G=o.parseFloat,H=L.trim,q=1/G(A+"-0")!=-1/0?function(t){var e=H(String(t),3),r=G(e);return 0===r&&"-"==e.charAt(0)?-0:r}:G;w(w.G+w.F*(parseFloat!=q),{parseFloat:q});var Y,j=e.parseFloat,F=Math.ceil,K=Math.floor,$=function(t){return isNaN(t=+t)?0:(t>0?K:F)(t)},z=E,V={}.toString,W=function(t){return V.call(t).slice(8,-1)},X=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==W(t)?t.split(""):Object(t)},Z=function(t){return X(B(t))},J=Math.min,Q=Math.max,tt=Math.min,et=t(function(t){var r=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:e.version,mode:"pure",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})}),rt=0,nt=Math.random(),it=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++rt+nt).toString(36))},ot=et("keys"),st=function(t){return ot[t]||(ot[t]=it(t))},ft=(Y=!1,function(t,e,r){var n,i,o=Z(t),s=(n=o.length)>0?J($(n),9007199254740991):0,f=function(t,e){return(t=$(t))<0?Q(t+e,0):tt(t,e)}(r,s);if(Y&&e!=e){for(;s>f;)if((i=o[f++])!=i)return!0}else for(;s>f;f++)if((Y||f in o)&&o[f]===e)return Y||f||0;return!Y&&-1}),ut=st("IE_PROTO"),ht=function(t,e){var r,n=Z(t),i=0,o=[];for(r in n)r!=ut&&b(n,r)&&o.push(r);for(;e.length>i;)b(n,r=e[i++])&&(~ft(o,r)||o.push(r));return o},at="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),ct=Object.keys||function(t){return ht(t,at)},pt=a?Object.defineProperties:function(t,e){u(t);for(var r,n=ct(e),i=n.length,o=0;i>o;)d.f(t,r=n[o++],e[r]);return t},lt=o.document,yt=lt&&lt.documentElement,gt=st("IE_PROTO"),mt=function(){},dt=function(){var t,e=l("iframe"),r=at.length;for(e.style.display="none",yt.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),dt=t.F;r--;)delete dt.prototype[at[r]];return dt()},St=Object.create||function(t,e){var r;return null!==t?(mt.prototype=u(t),r=new mt,mt.prototype=null,r[gt]=t):r=dt(),void 0===e?r:pt(r,e)},Et=t(function(t){var e=et("wks"),r=o.Symbol,n="function"==typeof r;(t.exports=function(t){return e[t]||(e[t]=n&&r[t]||(n?r:it)("Symbol."+t))}).store=e}),vt=d.f,bt=Et("toStringTag"),_t=function(t,e,r){t&&!b(t=r?t:t.prototype,bt)&&vt(t,bt,{configurable:!0,value:e})},wt={};E(wt,Et("iterator"),function(){return this});var Ot,Tt=function(t,e,r){t.prototype=St(wt,{next:S(1,r)}),_t(t,e+" Iterator")},Bt=function(t){return Object(B(t))},At=st("IE_PROTO"),It=Object.prototype,Pt=Object.getPrototypeOf||function(t){return t=Bt(t),b(t,At)?t[At]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?It:null},Rt=Et("iterator"),Dt=!([].keys&&"next"in[].keys()),Nt=function(t,e,r,n,i,o,s){Tt(r,e,n);var f,u,h,a=function(t){if(!Dt&&t in y)return y[t];switch(t){case"keys":case"values":return function(){return new r(this,t)}}return function(){return new r(this,t)}},c=e+" Iterator",p="values"==i,l=!1,y=t.prototype,g=y[Rt]||y["@@iterator"]||i&&y[i],m=g||a(i),d=i?p?a("entries"):m:void 0,S="Array"==e&&y.entries||g;if(S&&(h=Pt(S.call(new t)))!==Object.prototype&&h.next&&_t(h,c,!0),p&&g&&"values"!==g.name&&(l=!0,m=function(){return g.call(this)}),s&&(Dt||l||!y[Rt])&&E(y,Rt,m),i)if(f={values:p?m:a("values"),keys:o?m:a("keys"),entries:d},s)for(u in f)u in y||z(y,u,f[u]);else w(w.P+w.F*(Dt||l),e,f);return f},Lt=(Ot=!0,function(t,e){var r,n,i=String(B(t)),o=$(e),s=i.length;return o<0||o>=s?Ot?"":void 0:(r=i.charCodeAt(o))<55296||r>56319||o+1===s||(n=i.charCodeAt(o+1))<56320||n>57343?Ot?i.charAt(o):r:Ot?i.slice(o,o+2):n-56320+(r-55296<<10)+65536});Nt(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=Lt(e,r),this._i+=t.length,{value:t,done:!1})});for(var kt=function(t,e){return{value:e,done:!!t}},xt=(Nt(Array,"Array",function(t,e){this._t=Z(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,kt(1)):kt(0,"keys"==e?r:"values"==e?t[r]:[r,t[r]])},"values"),Et("toStringTag")),Ct="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),Mt=0;Mt<Ct.length;Mt++){var Ut=Ct[Mt],Gt=o[Ut],Ht=Gt&&Gt.prototype;Ht&&!Ht[xt]&&E(Ht,xt,Ut)}var qt={f:Et},Yt=qt.f("iterator"),jt=t(function(t){var e=it("meta"),r=d.f,n=0,i=Object.isExtensible||function(){return!0},o=!h(function(){return i(Object.preventExtensions({}))}),s=function(t){r(t,e,{value:{i:"O"+ ++n,w:{}}})},u=t.exports={KEY:e,NEED:!1,fastKey:function(t,r){if(!f(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!b(t,e)){if(!i(t))return"F";if(!r)return"E";s(t)}return t[e].i},getWeak:function(t,r){if(!b(t,e)){if(!i(t))return!0;if(!r)return!1;s(t)}return t[e].w},onFreeze:function(t){return o&&u.NEED&&i(t)&&!b(t,e)&&s(t),t}}}),Ft=(jt.KEY,jt.NEED,jt.fastKey,jt.getWeak,jt.onFreeze,d.f),Kt=function(t){var r=e.Symbol||(e.Symbol={});"_"==t.charAt(0)||t in r||Ft(r,t,{value:qt.f(t)})},$t={f:Object.getOwnPropertySymbols},zt={f:{}.propertyIsEnumerable},Vt=Array.isArray||function(t){return"Array"==W(t)},Wt=at.concat("length","prototype"),Xt={f:Object.getOwnPropertyNames||function(t){return ht(t,Wt)}},Zt=Xt.f,Jt={}.toString,Qt="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],te={f:function(t){return Qt&&"[object Window]"==Jt.call(t)?function(t){try{return Zt(t)}catch(t){return Qt.slice()}}(t):Zt(Z(t))}},ee=Object.getOwnPropertyDescriptor,re={f:a?ee:function(t,e){if(t=Z(t),e=g(e,!0),y)try{return ee(t,e)}catch(t){}if(b(t,e))return S(!zt.f.call(t,e),t[e])}},ne=jt.KEY,ie=re.f,oe=d.f,se=te.f,fe=o.Symbol,ue=o.JSON,he=ue&&ue.stringify,ae=Et("_hidden"),ce=Et("toPrimitive"),pe={}.propertyIsEnumerable,le=et("symbol-registry"),ye=et("symbols"),ge=et("op-symbols"),me=Object.prototype,de="function"==typeof fe&&!!$t.f,Se=o.QObject,Ee=!Se||!Se.prototype||!Se.prototype.findChild,ve=a&&h(function(){return 7!=St(oe({},"a",{get:function(){return oe(this,"a",{value:7}).a}})).a})?function(t,e,r){var n=ie(me,e);n&&delete me[e],oe(t,e,r),n&&t!==me&&oe(me,e,n)}:oe,be=function(t){var e=ye[t]=St(fe.prototype);return e._k=t,e},_e=de&&"symbol"==typeof fe.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof fe},we=function(t,e,r){return t===me&&we(ge,e,r),u(t),e=g(e,!0),u(r),b(ye,e)?(r.enumerable?(b(t,ae)&&t[ae][e]&&(t[ae][e]=!1),r=St(r,{enumerable:S(0,!1)})):(b(t,ae)||oe(t,ae,S(1,{})),t[ae][e]=!0),ve(t,e,r)):oe(t,e,r)},Oe=function(t,e){u(t);for(var r,n=function(t){var e=ct(t),r=$t.f;if(r)for(var n,i=r(t),o=zt.f,s=0;i.length>s;)o.call(t,n=i[s++])&&e.push(n);return e}(e=Z(e)),i=0,o=n.length;o>i;)we(t,r=n[i++],e[r]);return t},Te=function(t){var e=pe.call(this,t=g(t,!0));return!(this===me&&b(ye,t)&&!b(ge,t))&&(!(e||!b(this,t)||!b(ye,t)||b(this,ae)&&this[ae][t])||e)},Be=function(t,e){if(t=Z(t),e=g(e,!0),t!==me||!b(ye,e)||b(ge,e)){var r=ie(t,e);return!r||!b(ye,e)||b(t,ae)&&t[ae][e]||(r.enumerable=!0),r}},Ae=function(t){for(var e,r=se(Z(t)),n=[],i=0;r.length>i;)b(ye,e=r[i++])||e==ae||e==ne||n.push(e);return n},Ie=function(t){for(var e,r=t===me,n=se(r?ge:Z(t)),i=[],o=0;n.length>o;)!b(ye,e=n[o++])||r&&!b(me,e)||i.push(ye[e]);return i};de||(z((fe=function(){if(this instanceof fe)throw TypeError("Symbol is not a constructor!");var t=it(arguments.length>0?arguments[0]:void 0),e=function(r){this===me&&e.call(ge,r),b(this,ae)&&b(this[ae],t)&&(this[ae][t]=!1),ve(this,t,S(1,r))};return a&&Ee&&ve(me,t,{configurable:!0,set:e}),be(t)}).prototype,"toString",function(){return this._k}),re.f=Be,d.f=we,Xt.f=te.f=Ae,zt.f=Te,$t.f=Ie,qt.f=function(t){return be(Et(t))}),w(w.G+w.W+w.F*!de,{Symbol:fe});for(var Pe="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Re=0;Pe.length>Re;)Et(Pe[Re++]);for(var De=ct(Et.store),Ne=0;De.length>Ne;)Kt(De[Ne++]);w(w.S+w.F*!de,"Symbol",{for:function(t){return b(le,t+="")?le[t]:le[t]=fe(t)},keyFor:function(t){if(!_e(t))throw TypeError(t+" is not a symbol!");for(var e in le)if(le[e]===t)return e},useSetter:function(){Ee=!0},useSimple:function(){Ee=!1}}),w(w.S+w.F*!de,"Object",{create:function(t,e){return void 0===e?St(t):Oe(St(t),e)},defineProperty:we,defineProperties:Oe,getOwnPropertyDescriptor:Be,getOwnPropertyNames:Ae,getOwnPropertySymbols:Ie});var Le=h(function(){$t.f(1)});w(w.S+w.F*Le,"Object",{getOwnPropertySymbols:function(t){return $t.f(Bt(t))}}),ue&&w(w.S+w.F*(!de||h(function(){var t=fe();return"[null]"!=he([t])||"{}"!=he({a:t})||"{}"!=he(Object(t))})),"JSON",{stringify:function(t){for(var e,r,n=[t],i=1;arguments.length>i;)n.push(arguments[i++]);if(r=e=n[1],(f(e)||void 0!==t)&&!_e(t))return Vt(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!_e(e))return e}),n[1]=e,he.apply(ue,n)}}),fe.prototype[ce]||E(fe.prototype,ce,fe.prototype.valueOf),_t(fe,"Symbol"),_t(Math,"Math",!0),_t(o.JSON,"JSON",!0),Kt("asyncIterator"),Kt("observable");var ke=e.Symbol,xe=t(function(t){function e(t){return(e="function"==typeof ke&&"symbol"==typeof Yt?function(t){return typeof t}:function(t){return t&&"function"==typeof ke&&t.constructor===ke&&t!==ke.prototype?"symbol":typeof t})(t)}function r(n){return"function"==typeof ke&&"symbol"===e(Yt)?t.exports=r=function(t){return e(t)}:t.exports=r=function(t){return t&&"function"==typeof ke&&t.constructor===ke&&t!==ke.prototype?"symbol":e(t)},r(n)}t.exports=r}),Ce={linebrk:function(t,e){for(var r="",n=0;n+e<t.length;)r+=t.substring(n,n+e)+"\n",n+=e;return r+t.substring(n,t.length)},detectEnvironment:function(){return"browser"},get32IntFromBuffer:function(t,e){e=e||0;var r;if(0<(r=t.length-e)){if(4<=r)return t.readUInt32BE(e);for(var n=0,i=e+r,o=0;i>e;i--,o+=2)n+=t[i-1]*Math.pow(16,o);return n}return NaN},_:{isObject:function(t){var e=xe(t);return!!t&&("object"==e||"function"==e)},isString:function(t){return"string"==typeof t||t instanceof String},isNumber:function(t){return"number"==typeof t||!isNaN(j(t))&&isFinite(t)},omit:function(t,e){var r={};for(var n in t)t.hasOwnProperty(n)&&n!==e&&(r[n]=t[n]);return r}},trimSurroundingText:function(t,e,r){var n=0,i=t.length,o=t.indexOf(e);0<=o&&(n=o+e.length);var s=t.indexOf(r,o);return 0<=s&&(i=s),t.substring(n,i)}},Me={},Ue=Ce._;function Ge(t,e){null!=t&&("number"==typeof t?this.fromNumber(t,e):Buffer.isBuffer(t)?this.fromBuffer(t):null==e&&"string"!=typeof t?this.fromByteArray(t):this.fromString(t,e))}function He(){return new Ge(null)}Ge.prototype.am=function(t,e,r,n,i,o){for(var s=16383&e,f=e>>14;0<=--o;){var u=16383&this[t],h=this[t++]>>14,a=f*u+h*s;i=((u=s*u+((16383&a)<<14)+r[n]+i)>>28)+(a>>14)+f*h,r[n++]=268435455&u}return i},Ge.prototype.DB=28,Ge.prototype.DM=268435455,Ge.prototype.DV=1<<28;Ge.prototype.FV=Math.pow(2,52),Ge.prototype.F1=24,Ge.prototype.F2=4;var qe,Ye,je="0123456789abcdefghijklmnopqrstuvwxyz",Fe=[];for(qe="0".charCodeAt(0),Ye=0;9>=Ye;++Ye)Fe[qe++]=Ye;for(qe="a".charCodeAt(0),Ye=10;36>Ye;++Ye)Fe[qe++]=Ye;for(qe="A".charCodeAt(0),Ye=10;36>Ye;++Ye)Fe[qe++]=Ye;function Ke(t){return je.charAt(t)}function $e(t,e){var r=Fe[t.charCodeAt(e)];return null==r?-1:r}function ze(t){var e=He();return e.fromInt(t),e}function Ve(t){var e,r=1;return 0!=(e=t>>>16)&&(t=e,r+=16),0!=(e=t>>8)&&(t=e,r+=8),0!=(e=t>>4)&&(t=e,r+=4),0!=(e=t>>2)&&(t=e,r+=2),0!=(e=t>>1)&&(t=e,r+=1),r}function We(t){this.m=t}function Xe(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function Ze(t,e){return t&e}function Je(t,e){return t|e}function Qe(t,e){return t^e}function tr(t,e){return t&~e}function er(t){if(0===t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function rr(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function nr(){}function ir(t){return t}function or(t){this.r2=He(),this.q3=He(),Ge.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}We.prototype.convert=function(t){return 0>t.s||0<=t.compareTo(this.m)?t.mod(this.m):t},We.prototype.revert=function(t){return t},We.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},We.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},We.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},Xe.prototype.convert=function(t){var e=He();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),0>t.s&&0<e.compareTo(Ge.ZERO)&&this.m.subTo(e,e),e},Xe.prototype.revert=function(t){var e=He();return t.copyTo(e),this.reduce(e),e},Xe.prototype.reduce=function(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=32767&t[e],n=r*this.mpl+((r*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[r=e+this.m.t]+=this.m.am(0,n,t,e,0,this.m.t);t[r]>=t.DV;)t[r]-=t.DV,t[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),0<=t.compareTo(this.m)&&t.subTo(this.m,t)},Xe.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},Xe.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},nr.prototype.convert=ir,nr.prototype.revert=ir,nr.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r)},nr.prototype.sqrTo=function(t,e){t.squareTo(e)},or.prototype.convert=function(t){if(0>t.s||t.t>2*this.m.t)return t.mod(this.m);if(0>t.compareTo(this.m))return t;var e=He();return t.copyTo(e),this.reduce(e),e},or.prototype.revert=function(t){return t},or.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);0>t.compareTo(this.r2);)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);0<=t.compareTo(this.m);)t.subTo(this.m,t)},or.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},or.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)};var sr=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],fr=(1<<26)/sr[sr.length-1];Ge.prototype.copyTo=function(t){for(var e=this.t-1;0<=e;--e)t[e]=this[e];t.t=this.t,t.s=this.s},Ge.prototype.fromInt=function(t){this.t=1,this.s=0>t?-1:0,0<t?this[0]=t:-1>t?this[0]=t+DV:this.t=0},Ge.prototype.fromString=function(t,e,r){var n;switch(e){case 2:n=1;break;case 4:n=2;break;case 8:n=3;break;case 16:n=4;break;case 32:n=5;break;case 256:n=8;break;default:return void this.fromRadix(t,e)}this.t=0,this.s=0;for(var i=t.length,o=!1,s=0;0<=--i;){var f=8==n?255&t[i]:$e(t,i);0>f?"-"==t.charAt(i)&&(o=!0):(o=!1,0===s?this[this.t++]=f:s+n>this.DB?(this[this.t-1]|=(f&(1<<this.DB-s)-1)<<s,this[this.t++]=f>>this.DB-s):this[this.t-1]|=f<<s,(s+=n)>=this.DB&&(s-=this.DB))}r||8!=n||0==(128&t[0])||(this.s=-1,0<s&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),o&&Ge.ZERO.subTo(this,this)},Ge.prototype.fromByteArray=function(t,e){this.fromString(t,256,e)},Ge.prototype.fromBuffer=function(t){this.fromString(t,256,!0)},Ge.prototype.clamp=function(){for(var t=this.s&this.DM;0<this.t&&this[this.t-1]==t;)--this.t},Ge.prototype.dlShiftTo=function(t,e){var r;for(r=this.t-1;0<=r;--r)e[r+t]=this[r];for(r=t-1;0<=r;--r)e[r]=0;e.t=this.t+t,e.s=this.s},Ge.prototype.drShiftTo=function(t,e){for(var r=t;r<this.t;++r)e[r-t]=this[r];e.t=Math.max(this.t-t,0),e.s=this.s},Ge.prototype.lShiftTo=function(t,e){var r,n=t%this.DB,i=this.DB-n,o=Math.floor(t/this.DB),s=this.s<<n&this.DM;for(r=this.t-1;0<=r;--r)e[r+o+1]=this[r]>>i|s,s=(this[r]&(1<<i)-1)<<n;for(r=o-1;0<=r;--r)e[r]=0;e[o]=s,e.t=this.t+o+1,e.s=this.s,e.clamp()},Ge.prototype.rShiftTo=function(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t)e.t=0;else{var n=t%this.DB,i=this.DB-n,o=(1<<n)-1;e[0]=this[r]>>n;for(var s=r+1;s<this.t;++s)e[s-r-1]|=(this[s]&o)<<i,e[s-r]=this[s]>>n;0<n&&(e[this.t-r-1]|=(this.s&o)<<i),e.t=this.t-r,e.clamp()}},Ge.prototype.subTo=function(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this[r]-t[r],e[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;r<this.t;)n+=this[r],e[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n-=t[r],e[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=0>n?-1:0,-1>n?e[r++]=this.DV+n:0<n&&(e[r++]=n),e.t=r,e.clamp()},Ge.prototype.multiplyTo=function(t,e){var r=this.abs(),n=t.abs(),i=r.t;for(e.t=i+n.t;0<=--i;)e[i]=0;for(i=0;i<n.t;++i)e[i+r.t]=r.am(0,n[i],e,i,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&Ge.ZERO.subTo(e,e)},Ge.prototype.squareTo=function(t){for(var e=this.abs(),r=t.t=2*e.t;0<=--r;)t[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e[r],t,2*r,0,1);(t[r+e.t]+=e.am(r+1,2*e[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t[r+e.t]-=e.DV,t[r+e.t+1]=1)}0<t.t&&(t[t.t-1]+=e.am(r,e[r],t,2*r,0,1)),t.s=0,t.clamp()},Ge.prototype.divRemTo=function(t,e,r){var n=t.abs();if(!(0>=n.t)){var i=this.abs();if(i.t<n.t)return null!=e&&e.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=He());var o=He(),s=this.s,f=t.s,u=this.DB-Ve(n[n.t-1]);0<u?(n.lShiftTo(u,o),i.lShiftTo(u,r)):(n.copyTo(o),i.copyTo(r));var h=o.t,a=o[h-1];if(0!==a){var c=a*(1<<this.F1)+(1<h?o[h-2]>>this.F2:0),p=this.FV/c,l=(1<<this.F1)/c,y=1<<this.F2,g=r.t,m=g-h,d=null==e?He():e;for(o.dlShiftTo(m,d),0<=r.compareTo(d)&&(r[r.t++]=1,r.subTo(d,r)),Ge.ONE.dlShiftTo(h,d),d.subTo(o,o);o.t<h;)o[o.t++]=0;for(;0<=--m;){var S=r[--g]==a?this.DM:Math.floor(r[g]*p+(r[g-1]+y)*l);if((r[g]+=o.am(0,S,r,m,0,h))<S)for(o.dlShiftTo(m,d),r.subTo(d,r);r[g]<--S;)r.subTo(d,r)}null!=e&&(r.drShiftTo(h,e),s!=f&&Ge.ZERO.subTo(e,e)),r.t=h,r.clamp(),0<u&&r.rShiftTo(u,r),0>s&&Ge.ZERO.subTo(r,r)}}},Ge.prototype.invDigit=function(){if(1>this.t)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return 0<(e=(e=65535&(e=255&(e=15&e*(2-(15&t)*e))*(2-(255&t)*e))*(2-(65535&(65535&t)*e)))*(2-t*e%this.DV)%this.DV)?this.DV-e:-e},Ge.prototype.isEven=function(){return 0===(0<this.t?1&this[0]:this.s)},Ge.prototype.exp=function(t,e){if(4294967295<t||1>t)return Ge.ONE;var r=He(),n=He(),i=e.convert(this),o=Ve(t)-1;for(i.copyTo(r);0<=--o;)if(e.sqrTo(r,n),0<(t&1<<o))e.mulTo(n,i,r);else{var s=r;r=n,n=s}return e.revert(r)},Ge.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},Ge.prototype.toRadix=function(t){if(null==t&&(t=10),0===this.signum()||2>t||36<t)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),n=ze(r),i=He(),o=He(),s="";for(this.divRemTo(n,i,o);0<i.signum();)s=(r+o.intValue()).toString(t).substr(1)+s,i.divRemTo(n,i,o);return o.intValue().toString(t)+s},Ge.prototype.fromRadix=function(t,e){this.fromInt(0),null==e&&(e=10);for(var r,n=this.chunkSize(e),i=Math.pow(e,n),o=!1,s=0,f=0,u=0;u<t.length;++u)0>(r=$e(t,u))?"-"==t.charAt(u)&&0===this.signum()&&(o=!0):(f=e*f+r,++s>=n&&(this.dMultiply(i),this.dAddOffset(f,0),s=0,f=0));0<s&&(this.dMultiply(Math.pow(e,s)),this.dAddOffset(f,0)),o&&Ge.ZERO.subTo(this,this)},Ge.prototype.fromNumber=function(t,e){if("number"!=typeof e){var r=Me.randomBytes(1+(t>>3)),n=7&t;0<n?r[0]&=(1<<n)-1:r[0]=0,this.fromByteArray(r)}else if(2>t)this.fromInt(1);else for(this.fromNumber(t),this.testBit(t-1)||this.bitwiseTo(Ge.ONE.shiftLeft(t-1),Je,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(Ge.ONE.shiftLeft(t-1),this)},Ge.prototype.bitwiseTo=function(t,e,r){var n,i,o=Math.min(t.t,this.t);for(n=0;n<o;++n)r[n]=e(this[n],t[n]);if(t.t<this.t){for(i=t.s&this.DM,n=o;n<this.t;++n)r[n]=e(this[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=o;n<t.t;++n)r[n]=e(i,t[n]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()},Ge.prototype.changeBit=function(t,e){var r=Ge.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r},Ge.prototype.addTo=function(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this[r]+t[r],e[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;r<this.t;)n+=this[r],e[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n+=t[r],e[r++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=0>n?-1:0,0<n?e[r++]=n:-1>n&&(e[r++]=this.DV+n),e.t=r,e.clamp()},Ge.prototype.dMultiply=function(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},Ge.prototype.dAddOffset=function(t,e){if(0!==t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}},Ge.prototype.multiplyLowerTo=function(t,e,r){var n,i=Math.min(this.t+t.t,e);for(r.s=0,r.t=i;0<i;)r[--i]=0;for(n=r.t-this.t;i<n;++i)r[i+this.t]=this.am(0,t[i],r,i,0,this.t);for(n=Math.min(t.t,e);i<n;++i)this.am(0,t[i],r,i,0,e-i);r.clamp()},Ge.prototype.multiplyUpperTo=function(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;0<=--n;)r[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r[this.t+n-e]=this.am(e-n,t[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)},Ge.prototype.modInt=function(t){if(0>=t)return 0;var e=this.DV%t,r=0>this.s?t-1:0;if(0<this.t)if(0==e)r=this[0]%t;else for(var n=this.t-1;0<=n;--n)r=(e*r+this[n])%t;return r},Ge.prototype.millerRabin=function(t){var e=this.subtract(Ge.ONE),r=e.getLowestSetBit();if(0>=r)return!1;var n=e.shiftRight(r);(t=t+1>>1)>sr.length&&(t=sr.length);for(var i=He(),o=0;o<t;++o){i.fromInt(sr[Math.floor(Math.random()*sr.length)]);var s=i.modPow(n,this);if(0!=s.compareTo(Ge.ONE)&&0!=s.compareTo(e)){for(var f=1;f++<r&&0!=s.compareTo(e);)if(0===(s=s.modPowInt(2,this)).compareTo(Ge.ONE))return!1;if(0!=s.compareTo(e))return!1}}return!0},Ge.prototype.toString=function(t){if(0>this.s)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var r,n=(1<<e)-1,i=!1,o="",s=this.t,f=this.DB-s*this.DB%e;if(0<s--)for(f<this.DB&&0<(r=this[s]>>f)&&(i=!0,o=Ke(r));0<=s;)f<e?(r=(this[s]&(1<<f)-1)<<e-f,r|=this[--s]>>(f+=this.DB-e)):(r=this[s]>>(f-=e)&n,0>=f&&(f+=this.DB,--s)),0<r&&(i=!0),i&&(o+=Ke(r));return i?o:"0"},Ge.prototype.negate=function(){var t=He();return Ge.ZERO.subTo(this,t),t},Ge.prototype.abs=function(){return 0>this.s?this.negate():this},Ge.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var r=this.t;if(0!=(e=r-t.t))return 0>this.s?-e:e;for(;0<=--r;)if(0!=(e=this[r]-t[r]))return e;return 0},Ge.prototype.bitLength=function(){return 0>=this.t?0:this.DB*(this.t-1)+Ve(this[this.t-1]^this.s&this.DM)},Ge.prototype.mod=function(t){var e=He();return this.abs().divRemTo(t,null,e),0>this.s&&0<e.compareTo(Ge.ZERO)&&t.subTo(e,e),e},Ge.prototype.modPowInt=function(t,e){var r;return r=256>t||e.isEven()?new We(e):new Xe(e),this.exp(t,r)},Ge.prototype.clone=function(){var t=He();return this.copyTo(t),t},Ge.prototype.intValue=function(){if(0>this.s){if(1==this.t)return this[0]-this.DV;if(0===this.t)return-1}else{if(1==this.t)return this[0];if(0===this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},Ge.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},Ge.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},Ge.prototype.signum=function(){return 0>this.s?-1:0>=this.t||1==this.t&&0>=this[0]?0:1},Ge.prototype.toByteArray=function(){var t=this.t,e=[];e[0]=this.s;var r,n=this.DB-t*this.DB%8,i=0;if(0<t--)for(n<this.DB&&(r=this[t]>>n)!=(this.s&this.DM)>>n&&(e[i++]=r|this.s<<this.DB-n);0<=t;)8>n?(r=(this[t]&(1<<n)-1)<<8-n,r|=this[--t]>>(n+=this.DB-8)):(r=255&this[t]>>(n-=8),0>=n&&(n+=this.DB,--t)),0!=(128&r)&&(r|=-256),0==i&&(128&this.s)!=(128&r)&&++i,(0<i||r!=this.s)&&(e[i++]=r);return e},Ge.prototype.toBuffer=function(t){var e=Buffer.from(this.toByteArray());if(!0===t&&0===e[0])e=e.slice(1);else if(Ue.isNumber(t)){if(e.length>t){for(var r=0;r<e.length-t;r++)if(0!==e[r])return null;return e.slice(e.length-t)}if(e.length<t){var n=Buffer.alloc(t);return n.fill(0,0,t-e.length),e.copy(n,t-e.length),n}}return e},Ge.prototype.equals=function(t){return 0==this.compareTo(t)},Ge.prototype.min=function(t){return 0>this.compareTo(t)?this:t},Ge.prototype.max=function(t){return 0<this.compareTo(t)?this:t},Ge.prototype.and=function(t){var e=He();return this.bitwiseTo(t,Ze,e),e},Ge.prototype.or=function(t){var e=He();return this.bitwiseTo(t,Je,e),e},Ge.prototype.xor=function(t){var e=He();return this.bitwiseTo(t,Qe,e),e},Ge.prototype.andNot=function(t){var e=He();return this.bitwiseTo(t,tr,e),e},Ge.prototype.not=function(){for(var t=He(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t},Ge.prototype.shiftLeft=function(t){var e=He();return 0>t?this.rShiftTo(-t,e):this.lShiftTo(t,e),e},Ge.prototype.shiftRight=function(t){var e=He();return 0>t?this.lShiftTo(-t,e):this.rShiftTo(t,e),e},Ge.prototype.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+er(this[t]);return 0>this.s?this.t*this.DB:-1},Ge.prototype.bitCount=function(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=rr(this[r]^e);return t},Ge.prototype.testBit=function(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)},Ge.prototype.setBit=function(t){return this.changeBit(t,Je)},Ge.prototype.clearBit=function(t){return this.changeBit(t,tr)},Ge.prototype.flipBit=function(t){return this.changeBit(t,Qe)},Ge.prototype.add=function(t){var e=He();return this.addTo(t,e),e},Ge.prototype.subtract=function(t){var e=He();return this.subTo(t,e),e},Ge.prototype.multiply=function(t){var e=He();return this.multiplyTo(t,e),e},Ge.prototype.divide=function(t){var e=He();return this.divRemTo(t,e,null),e},Ge.prototype.remainder=function(t){var e=He();return this.divRemTo(t,null,e),e},Ge.prototype.divideAndRemainder=function(t){var e=He(),r=He();return this.divRemTo(t,e,r),[e,r]},Ge.prototype.modPow=function(t,e){var r,n,i=t.bitLength(),o=ze(1);if(0>=i)return o;r=18>i?1:48>i?3:144>i?4:768>i?5:6,n=8>i?new We(e):e.isEven()?new or(e):new Xe(e);var s=[],f=3,u=r-1,h=(1<<r)-1;if(s[1]=n.convert(this),1<r){var a=He();for(n.sqrTo(s[1],a);f<=h;)s[f]=He(),n.mulTo(a,s[f-2],s[f]),f+=2}var c,p,l=t.t-1,y=!0,g=He();for(i=Ve(t[l])-1;0<=l;){for(i>=u?c=t[l]>>i-u&h:(c=(t[l]&(1<<i+1)-1)<<u-i,0<l&&(c|=t[l-1]>>this.DB+i-u)),f=r;0==(1&c);)c>>=1,--f;if(0>(i-=f)&&(i+=this.DB,--l),y)s[c].copyTo(o),y=!1;else{for(;1<f;)n.sqrTo(o,g),n.sqrTo(g,o),f-=2;0<f?n.sqrTo(o,g):(p=o,o=g,g=p),n.mulTo(g,s[c],o)}for(;0<=l&&0==(t[l]&1<<i);)n.sqrTo(o,g),p=o,o=g,g=p,0>--i&&(i=this.DB-1,--l)}return n.revert(o)},Ge.prototype.modInverse=function(t){var e=t.isEven();if(this.isEven()&&e||0===t.signum())return Ge.ZERO;for(var r=t.clone(),n=this.clone(),i=ze(1),o=ze(0),s=ze(0),f=ze(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),e?((!i.isEven()||!o.isEven())&&(i.addTo(this,i),o.subTo(t,o)),i.rShiftTo(1,i)):!o.isEven()&&o.subTo(t,o),o.rShiftTo(1,o);for(;n.isEven();)n.rShiftTo(1,n),e?((!s.isEven()||!f.isEven())&&(s.addTo(this,s),f.subTo(t,f)),s.rShiftTo(1,s)):!f.isEven()&&f.subTo(t,f),f.rShiftTo(1,f);0<=r.compareTo(n)?(r.subTo(n,r),e&&i.subTo(s,i),o.subTo(f,o)):(n.subTo(r,n),e&&s.subTo(i,s),f.subTo(o,f))}return 0!=n.compareTo(Ge.ONE)?Ge.ZERO:0<=f.compareTo(t)?f.subtract(t):0>f.signum()?(f.addTo(t,f),0>f.signum()?f.add(t):f):f},Ge.prototype.pow=function(t){return this.exp(t,new nr)},Ge.prototype.gcd=function(t){var e=0>this.s?this.negate():this.clone(),r=0>t.s?t.negate():t.clone();if(0>e.compareTo(r)){var n=e;e=r,r=n}var i=e.getLowestSetBit(),o=r.getLowestSetBit();if(0>o)return e;for(i<o&&(o=i),0<o&&(e.rShiftTo(o,e),r.rShiftTo(o,r));0<e.signum();)0<(i=e.getLowestSetBit())&&e.rShiftTo(i,e),0<(i=r.getLowestSetBit())&&r.rShiftTo(i,r),0<=e.compareTo(r)?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return 0<o&&r.lShiftTo(o,r),r},Ge.prototype.isProbablePrime=function(t){var e,r=this.abs();if(1==r.t&&r[0]<=sr[sr.length-1]){for(e=0;e<sr.length;++e)if(r[0]==sr[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<sr.length;){for(var n=sr[e],i=e+1;i<sr.length&&n<fr;)n*=sr[i++];for(n=r.modInt(n);e<i;)if(0==n%sr[e++])return!1}return r.millerRabin(t)},Ge.int2char=Ke,Ge.ZERO=ze(0),Ge.ONE=ze(1),Ge.prototype.square=function(){var t=He();return this.squareTo(t),t};var ur=Ge,hr=Me.createHash,ar=function(t){if(t>4294967295)throw new RangeError("requested too many random bytes");var e=Buffer.allocUnsafe(t);if(0<t)if(t>65536)for(var r=0;r<t;r+=65536)cr(e.slice(r,r+65536));else cr(e);return e};function cr(t){for(var e=0;e<t.length;e++)t[e]=Math.floor(256*Math.random())}var pr=[],lr=[],yr="undefined"!=typeof Uint8Array?Uint8Array:Array,gr=!1;function mr(){gr=!0;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,r=t.length;e<r;++e)pr[e]=t[e],lr[t.charCodeAt(e)]=e;lr["-".charCodeAt(0)]=62,lr["_".charCodeAt(0)]=63}function dr(t,e,r){for(var n,i,o=[],s=e;s<r;s+=3)n=(t[s]<<16)+(t[s+1]<<8)+t[s+2],o.push(pr[(i=n)>>18&63]+pr[i>>12&63]+pr[i>>6&63]+pr[63&i]);return o.join("")}function Sr(t){var e;gr||mr();for(var r=t.length,n=r%3,i="",o=[],s=0,f=r-n;s<f;s+=16383)o.push(dr(t,s,s+16383>f?f:s+16383));return 1===n?(e=t[r-1],i+=pr[e>>2],i+=pr[e<<4&63],i+="=="):2===n&&(e=(t[r-2]<<8)+t[r-1],i+=pr[e>>10],i+=pr[e>>4&63],i+=pr[e<<2&63],i+="="),o.push(i),o.join("")}function Er(t,e,r,n,i){var o,s,f=8*i-n-1,u=(1<<f)-1,h=u>>1,a=-7,c=r?i-1:0,p=r?-1:1,l=t[e+c];for(c+=p,o=l&(1<<-a)-1,l>>=-a,a+=f;a>0;o=256*o+t[e+c],c+=p,a-=8);for(s=o&(1<<-a)-1,o>>=-a,a+=n;a>0;s=256*s+t[e+c],c+=p,a-=8);if(0===o)o=1-h;else{if(o===u)return s?NaN:1/0*(l?-1:1);s+=Math.pow(2,n),o-=h}return(l?-1:1)*s*Math.pow(2,o-n)}function vr(t,e,r,n,i,o){var s,f,u,h=8*o-i-1,a=(1<<h)-1,c=a>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,l=n?0:o-1,y=n?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(f=isNaN(e)?1:0,s=a):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+c>=1?p/u:p*Math.pow(2,1-c))*u>=2&&(s++,u/=2),s+c>=a?(f=0,s=a):s+c>=1?(f=(e*u-1)*Math.pow(2,i),s+=c):(f=e*Math.pow(2,c-1)*Math.pow(2,i),s=0));i>=8;t[r+l]=255&f,l+=y,f/=256,i-=8);for(s=s<<i|f,h+=i;h>0;t[r+l]=255&s,l+=y,s/=256,h-=8);t[r+l-y]|=128*g}var br={}.toString,_r=Array.isArray||function(t){return"[object Array]"==br.call(t)};Br.TYPED_ARRAY_SUPPORT=void 0===global.TYPED_ARRAY_SUPPORT||global.TYPED_ARRAY_SUPPORT;var wr=Or();function Or(){return Br.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Tr(t,e){if(Or()<e)throw new RangeError("Invalid typed array length");return Br.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=Br.prototype:(null===t&&(t=new Br(e)),t.length=e),t}function Br(t,e,r){if(!(Br.TYPED_ARRAY_SUPPORT||this instanceof Br))return new Br(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return Pr(this,t)}return Ar(this,t,e,r)}function Ar(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n);Br.TYPED_ARRAY_SUPPORT?(t=e).__proto__=Br.prototype:t=Rr(t,e);return t}(t,e,r,n):"string"==typeof e?function(t,e,r){"string"==typeof r&&""!==r||(r="utf8");if(!Br.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|Lr(e,r),i=(t=Tr(t,n)).write(e,r);i!==n&&(t=t.slice(0,i));return t}(t,e,r):function(t,e){if(Nr(e)){var r=0|Dr(e.length);return 0===(t=Tr(t,r)).length?t:(e.copy(t,0,0,r),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(n=e.length)!=n?Tr(t,0):Rr(t,e);if("Buffer"===e.type&&_r(e.data))return Rr(t,e.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function Ir(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function Pr(t,e){if(Ir(e),t=Tr(t,e<0?0:0|Dr(e)),!Br.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function Rr(t,e){var r=e.length<0?0:0|Dr(e.length);t=Tr(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function Dr(t){if(t>=Or())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Or().toString(16)+" bytes");return 0|t}function Nr(t){return!(null==t||!t._isBuffer)}function Lr(t,e){if(Nr(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return fn(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return un(t).length;default:if(n)return fn(t).length;e=(""+e).toLowerCase(),n=!0}}function kr(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return Wr(this,e,r);case"utf8":case"utf-8":return Kr(this,e,r);case"ascii":return zr(this,e,r);case"latin1":case"binary":return Vr(this,e,r);case"base64":return Fr(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Xr(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function xr(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function Cr(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=Br.from(e,n)),Nr(e))return 0===e.length?-1:Mr(t,e,r,n,i);if("number"==typeof e)return e&=255,Br.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):Mr(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function Mr(t,e,r,n,i){var o,s=1,f=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,f/=2,u/=2,r/=2}function h(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var a=-1;for(o=r;o<f;o++)if(h(t,o)===h(e,-1===a?0:o-a)){if(-1===a&&(a=o),o-a+1===u)return a*s}else-1!==a&&(o-=o-a),a=-1}else for(r+u>f&&(r=f-u),o=r;o>=0;o--){for(var c=!0,p=0;p<u;p++)if(h(t,o+p)!==h(e,p)){c=!1;break}if(c)return o}return-1}function Ur(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var s=0;s<n;++s){var f=parseInt(e.substr(2*s,2),16);if(isNaN(f))return s;t[r+s]=f}return s}function Gr(t,e,r,n){return hn(fn(e,t.length-r),t,r,n)}function Hr(t,e,r,n){return hn(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function qr(t,e,r,n){return Hr(t,e,r,n)}function Yr(t,e,r,n){return hn(un(e),t,r,n)}function jr(t,e,r,n){return hn(function(t,e){for(var r,n,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function Fr(t,e,r){return 0===e&&r===t.length?Sr(t):Sr(t.slice(e,r))}function Kr(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o,s,f,u,h=t[i],a=null,c=h>239?4:h>223?3:h>191?2:1;if(i+c<=r)switch(c){case 1:h<128&&(a=h);break;case 2:128==(192&(o=t[i+1]))&&(u=(31&h)<<6|63&o)>127&&(a=u);break;case 3:o=t[i+1],s=t[i+2],128==(192&o)&&128==(192&s)&&(u=(15&h)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(a=u);break;case 4:o=t[i+1],s=t[i+2],f=t[i+3],128==(192&o)&&128==(192&s)&&128==(192&f)&&(u=(15&h)<<18|(63&o)<<12|(63&s)<<6|63&f)>65535&&u<1114112&&(a=u)}null===a?(a=65533,c=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=c}return function(t){var e=t.length;if(e<=$r)return String.fromCharCode.apply(String,t);var r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=$r));return r}(n)}Br.poolSize=8192,Br._augment=function(t){return t.__proto__=Br.prototype,t},Br.from=function(t,e,r){return Ar(null,t,e,r)},Br.TYPED_ARRAY_SUPPORT&&(Br.prototype.__proto__=Uint8Array.prototype,Br.__proto__=Uint8Array),Br.alloc=function(t,e,r){return function(t,e,r,n){return Ir(e),e<=0?Tr(t,e):void 0!==r?"string"==typeof n?Tr(t,e).fill(r,n):Tr(t,e).fill(r):Tr(t,e)}(null,t,e,r)},Br.allocUnsafe=function(t){return Pr(null,t)},Br.allocUnsafeSlow=function(t){return Pr(null,t)},Br.isBuffer=an,Br.compare=function(t,e){if(!Nr(t)||!Nr(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},Br.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Br.concat=function(t,e){if(!_r(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return Br.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=Br.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var o=t[r];if(!Nr(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},Br.byteLength=Lr,Br.prototype._isBuffer=!0,Br.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)xr(this,e,e+1);return this},Br.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)xr(this,e,e+3),xr(this,e+1,e+2);return this},Br.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)xr(this,e,e+7),xr(this,e+1,e+6),xr(this,e+2,e+5),xr(this,e+3,e+4);return this},Br.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?Kr(this,0,t):kr.apply(this,arguments)},Br.prototype.equals=function(t){if(!Nr(t))throw new TypeError("Argument must be a Buffer");return this===t||0===Br.compare(this,t)},Br.prototype.inspect=function(){var t="";return this.length>0&&(t=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(t+=" ... ")),"<Buffer "+t+">"},Br.prototype.compare=function(t,e,r,n,i){if(!Nr(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(e>>>=0),f=Math.min(o,s),u=this.slice(n,i),h=t.slice(e,r),a=0;a<f;++a)if(u[a]!==h[a]){o=u[a],s=h[a];break}return o<s?-1:s<o?1:0},Br.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},Br.prototype.indexOf=function(t,e,r){return Cr(this,t,e,r,!0)},Br.prototype.lastIndexOf=function(t,e,r){return Cr(this,t,e,r,!1)},Br.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return Ur(this,t,e,r);case"utf8":case"utf-8":return Gr(this,t,e,r);case"ascii":return Hr(this,t,e,r);case"latin1":case"binary":return qr(this,t,e,r);case"base64":return Yr(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return jr(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},Br.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var $r=4096;function zr(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function Vr(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function Wr(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;++o)i+=sn(t[o]);return i}function Xr(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function Zr(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function Jr(t,e,r,n,i,o){if(!Nr(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function Qr(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function tn(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function en(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function rn(t,e,r,n,i){return i||en(t,0,r,4),vr(t,e,r,n,23,4),r+4}function nn(t,e,r,n,i){return i||en(t,0,r,8),vr(t,e,r,n,52,8),r+8}Br.prototype.slice=function(t,e){var r,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),Br.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=Br.prototype;else{var i=e-t;r=new Br(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+t]}return r},Br.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||Zr(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n},Br.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||Zr(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},Br.prototype.readUInt8=function(t,e){return e||Zr(t,1,this.length),this[t]},Br.prototype.readUInt16LE=function(t,e){return e||Zr(t,2,this.length),this[t]|this[t+1]<<8},Br.prototype.readUInt16BE=function(t,e){return e||Zr(t,2,this.length),this[t]<<8|this[t+1]},Br.prototype.readUInt32LE=function(t,e){return e||Zr(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},Br.prototype.readUInt32BE=function(t,e){return e||Zr(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},Br.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||Zr(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},Br.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||Zr(t,e,this.length);for(var n=e,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},Br.prototype.readInt8=function(t,e){return e||Zr(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},Br.prototype.readInt16LE=function(t,e){e||Zr(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},Br.prototype.readInt16BE=function(t,e){e||Zr(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},Br.prototype.readInt32LE=function(t,e){return e||Zr(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},Br.prototype.readInt32BE=function(t,e){return e||Zr(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},Br.prototype.readFloatLE=function(t,e){return e||Zr(t,4,this.length),Er(this,t,!0,23,4)},Br.prototype.readFloatBE=function(t,e){return e||Zr(t,4,this.length),Er(this,t,!1,23,4)},Br.prototype.readDoubleLE=function(t,e){return e||Zr(t,8,this.length),Er(this,t,!0,52,8)},Br.prototype.readDoubleBE=function(t,e){return e||Zr(t,8,this.length),Er(this,t,!1,52,8)},Br.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||Jr(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},Br.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||Jr(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},Br.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||Jr(this,t,e,1,255,0),Br.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},Br.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||Jr(this,t,e,2,65535,0),Br.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):Qr(this,t,e,!0),e+2},Br.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||Jr(this,t,e,2,65535,0),Br.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):Qr(this,t,e,!1),e+2},Br.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||Jr(this,t,e,4,4294967295,0),Br.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):tn(this,t,e,!0),e+4},Br.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||Jr(this,t,e,4,4294967295,0),Br.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):tn(this,t,e,!1),e+4},Br.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);Jr(this,t,e,r,i-1,-i)}var o=0,s=1,f=0;for(this[e]=255&t;++o<r&&(s*=256);)t<0&&0===f&&0!==this[e+o-1]&&(f=1),this[e+o]=(t/s>>0)-f&255;return e+r},Br.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);Jr(this,t,e,r,i-1,-i)}var o=r-1,s=1,f=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===f&&0!==this[e+o+1]&&(f=1),this[e+o]=(t/s>>0)-f&255;return e+r},Br.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||Jr(this,t,e,1,127,-128),Br.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},Br.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||Jr(this,t,e,2,32767,-32768),Br.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):Qr(this,t,e,!0),e+2},Br.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||Jr(this,t,e,2,32767,-32768),Br.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):Qr(this,t,e,!1),e+2},Br.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||Jr(this,t,e,4,2147483647,-2147483648),Br.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):tn(this,t,e,!0),e+4},Br.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||Jr(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),Br.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):tn(this,t,e,!1),e+4},Br.prototype.writeFloatLE=function(t,e,r){return rn(this,t,e,!0,r)},Br.prototype.writeFloatBE=function(t,e,r){return rn(this,t,e,!1,r)},Br.prototype.writeDoubleLE=function(t,e,r){return nn(this,t,e,!0,r)},Br.prototype.writeDoubleBE=function(t,e,r){return nn(this,t,e,!1,r)},Br.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,o=n-r;if(this===t&&r<e&&e<n)for(i=o-1;i>=0;--i)t[i+e]=this[i+r];else if(o<1e3||!Br.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+o),e);return o},Br.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!Br.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(o=e;o<r;++o)this[o]=t;else{var s=Nr(t)?t:fn(new Br(t,n).toString()),f=s.length;for(o=0;o<r-e;++o)this[o+e]=s[o%f]}return this};var on=/[^+\/0-9A-Za-z-_]/g;function sn(t){return t<16?"0"+t.toString(16):t.toString(16)}function fn(t,e){var r;e=e||1/0;for(var n=t.length,i=null,o=[],s=0;s<n;++s){if((r=t.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function un(t){return function(t){var e,r,n,i,o,s;gr||mr();var f=t.length;if(f%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o="="===t[f-2]?2:"="===t[f-1]?1:0,s=new yr(3*f/4-o),n=o>0?f-4:f;var u=0;for(e=0,r=0;e<n;e+=4,r+=3)i=lr[t.charCodeAt(e)]<<18|lr[t.charCodeAt(e+1)]<<12|lr[t.charCodeAt(e+2)]<<6|lr[t.charCodeAt(e+3)],s[u++]=i>>16&255,s[u++]=i>>8&255,s[u++]=255&i;return 2===o?(i=lr[t.charCodeAt(e)]<<2|lr[t.charCodeAt(e+1)]>>4,s[u++]=255&i):1===o&&(i=lr[t.charCodeAt(e)]<<10|lr[t.charCodeAt(e+1)]<<4|lr[t.charCodeAt(e+2)]>>2,s[u++]=i>>8&255,s[u++]=255&i),s}(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(on,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function hn(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function an(t){return null!=t&&(!!t._isBuffer||cn(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&cn(t.slice(0,0))}(t))}function cn(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}var pn=Object.freeze({INSPECT_MAX_BYTES:50,kMaxLength:wr,Buffer:Br,SlowBuffer:function(t){return+t!=t&&(t=0),Br.alloc(+t)},isBuffer:an}),ln=t(function(t,e){var r=pn.Buffer;function n(t,e){for(var r in t)e[r]=t[r]}function i(t,e,n){return r(t,e,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=pn:(n(pn,e),e.Buffer=i),n(r,i),i.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return r(t,e,n)},i.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var i=r(t);return void 0!==e?"string"==typeof n?i.fill(e,n):i.fill(e):i.fill(0),i},i.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r(t)},i.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return pn.SlowBuffer(t)}}),yn=(ln.Buffer,ln.Buffer),gn=function(t,e){for(var r,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"sha1",i=yn.alloc(0),o=0;i.length<e;)r=mn(o++),i=yn.concat([i,hr(n).update(t).update(r).digest()]);return i.slice(0,e)};function mn(t){var e=yn.allocUnsafe(4);return e.writeUInt32BE(t,0),e}var dn=function(t,e){for(var r=t.length,n=-1;++n<r;)t[n]^=e[n];return t};function Sn(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"sha256",e=0;return"md5-96"===(t=t.toLowerCase())||"sha1-96"===t||"sha256-96"===t||"sha512-96"===t?(t=t.substr(0,-3),e=12):"md2"===t||"md5"===t?e=16:"sha1"===t?e=20:"sha256"===t?e=32:"sha384"===t?e=48:"sha512"===t&&(e=64),e}var En=function(){for(var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=e.data,n=void 0===r?"":r,i=e.mgf,o=void 0===i?"sha1":i,s=e.pad1,f=void 0===s?"":s,u=e.hash,h=void 0===u?"sha256":u,a=e.encryptedDataLength,c=void 0===a?256:a,p=hr(h).update(f,"utf8").digest(),l=Sn(h),y=Buffer.alloc(c-n.length-2*l-2),g=ar(32),m=0;m<g.length;m++){for(t=g[m];0===t;)t=ar(1)[0];g[m]=t}var d=Buffer.concat([p,y,Buffer.from(String.fromCharCode(1)),n]),S=gn(g,c-l-1,o),E=dn(d,S),v=gn(E,l,o),b=dn(g,v),_=Buffer.concat([Buffer.from(String.fromCharCode(0)),b,E]);return _},vn={md2:Buffer.from("3020300c06082a864886f70d020205000410","hex"),md5:Buffer.from("3020300c06082a864886f70d020505000410","hex"),sha1:Buffer.from("3021300906052b0e03021a05000414","hex"),sha224:Buffer.from("302d300d06096086480165030402040500041c","hex"),sha256:Buffer.from("3031300d060960864801650304020105000420","hex"),sha384:Buffer.from("3041300d060960864801650304020205000430","hex"),sha512:Buffer.from("3051300d060960864801650304020305000440","hex"),ripemd160:Buffer.from("3021300906052b2403020105000414","hex"),rmd160:Buffer.from("3021300906052b2403020105000414","hex")},bn={ripemd160:"rmd160"},_n={isEncryption:!0,isSignature:!0};_n.makeScheme=function(t,e){function r(t,e){this.key=t,this.options=e}return r.prototype.maxMessageLength=function(){return this.options.encryptionSchemeOptions&&this.options.encryptionSchemeOptions.padding==i.RSA_NO_PADDING?this.key.encryptedDataLength:this.key.encryptedDataLength-11},r.prototype.encPad=function(t,e){var r;if(e=e||{},t.length>this.key.maxMessageLength)throw new Error("Message too long for RSA (n="+this.key.encryptedDataLength+", l="+t.length+")");if(this.options.encryptionSchemeOptions&&this.options.encryptionSchemeOptions.padding==i.RSA_NO_PADDING)return(r=Buffer.alloc(this.key.maxMessageLength-t.length)).fill(0),Buffer.concat([r,t]);if(1===e.type)return(r=Buffer.alloc(this.key.encryptedDataLength-t.length-1)).fill(255,0,r.length-1),r[0]=1,r[r.length-1]=0,Buffer.concat([r,t]);if(this.options&&this.options.encryptionSchemeOptions&&this.options.encryptionSchemeOptions.mgf){var n=this.options.encryptionSchemeOptions,o=n.mgf,s=n.hash;return En({data:t,mgf:o,hash:s,encryptedDataLength:this.encryptedDataLength})}(r=Buffer.alloc(this.key.encryptedDataLength-t.length))[0]=0,r[1]=2;for(var f,u=Me.randomBytes(r.length-3),h=0;h<u.length;h++){for(f=u[h];0===f;)f=Me.randomBytes(1)[0];r[h+2]=f}return r[r.length-1]=0,Buffer.concat([r,t])},r.prototype.yihuo=function(t,e){return t.split("").map(function(t,r){return t===e[r]?0:1}).join("")},r.prototype.hexToBin=function(t){for(var e=[{key:0,val:"0000"},{key:1,val:"0001"},{key:2,val:"0010"},{key:3,val:"0011"},{key:4,val:"0100"},{key:5,val:"0101"},{key:6,val:"0110"},{key:7,val:"0111"},{key:8,val:"1000"},{key:9,val:"1001"},{key:"a",val:"1010"},{key:"b",val:"1011"},{key:"c",val:"1100"},{key:"d",val:"1101"},{key:"e",val:"1110"},{key:"f",val:"1111"}],r="",n=0;n<t.length;n++)for(var i=0;i<e.length;i++)if(t.charAt(n)==e[i].key){r=r.concat(e[i].val);break}return r},r.prototype.binToHex=function(t){var e=[{key:0,val:"0000"},{key:1,val:"0001"},{key:2,val:"0010"},{key:3,val:"0011"},{key:4,val:"0100"},{key:5,val:"0101"},{key:6,val:"0110"},{key:7,val:"0111"},{key:8,val:"1000"},{key:9,val:"1001"},{key:"a",val:"1010"},{key:"b",val:"1011"},{key:"c",val:"1100"},{key:"d",val:"1101"},{key:"e",val:"1110"},{key:"f",val:"1111"}],r="",n=[];for(0!=t.length%4&&(t="0000".substring(0,4-t.length%4).concat(t));4<t.length;)n.push(t.substring(0,4)),t=t.substring(4);n.push(t);for(var i=0;i<n.length;i++)for(var o=0;o<e.length;o++)if(n[i]==e[o].val){r=r.concat(e[o].key);break}return r},r.prototype._mgf1=function(t,e){for(var r,n=[],i=Math.ceil(e/20),o=0;o<i;o++)r=this.unsignedLongBuffer(o),n.push(Me.createHash("sha1").update(Buffer.concat([t,r]),"hex").digest());return n=Buffer.alloc(e,Buffer.concat(n))},r.prototype.unsignedLongBuffer=function(t){var e=n({type:"Buffer",data:[0,0,0,t]});return JSON.parse(e,function(t,e){return e&&"Buffer"===e.type?Buffer.from(e.data):e})},r.prototype.randomBytes=function(t){if(t>4294967295)throw new RangeError("requested too many random bytes");var e=Buffer.allocUnsafe(t);if(0<t)if(t>65536)for(var r=0;r<t;r+=65536)this.getRandomValues(e.slice(r,r+65536));else this.getRandomValues(e);return e},r.prototype.getRandomValues=function(t){for(var e=0;e<t.length;e++)t[e]=Math.floor(256*Math.random())},r.prototype.encUnPad=function(t,e){e=e||{};var r=0;if(this.options.encryptionSchemeOptions&&this.options.encryptionSchemeOptions.padding==i.RSA_NO_PADDING)return"function"==typeof t.lastIndexOf?t.slice(t.lastIndexOf("\0")+1,t.length):t.slice(String.prototype.lastIndexOf.call(t,"\0")+1,t.length);if(4>t.length)return null;if(1===e.type){if(0!==t[0]&&1!==t[1])return null;for(r=3;0!==t[r];)if(255!=t[r]||++r>=t.length)return null}else{if(0!==t[0]&&2!==t[1])return null;for(r=3;0!==t[r];)if(++r>=t.length)return null}return t.slice(r+1,t.length)},r.prototype.sign=function(t){var e=this.options.signingSchemeOptions.hash||"sha256";if("browser"===this.options.environment){e=bn[e]||e;var r=Me.createHash(e);r.update(t);var n=this.pkcs1pad(r.digest(),e);return this.key.$doPrivate(new ur(n)).toBuffer(this.key.encryptedDataLength)}var i=Me.createSign("RSA-"+e.toUpperCase());return i.update(t),i.sign(this.options.rsaUtils.exportKey("private"))},r.prototype.verify=function(t,e,r){if(this.options.encryptionSchemeOptions&&this.options.encryptionSchemeOptions.padding==i.RSA_NO_PADDING)return!1;var n=this.options.signingSchemeOptions.hash||"sha256";if("browser"===this.options.environment){n=bn[n]||n,r&&(e=Buffer.from(e,r));var o=Me.createHash(n);o.update(t);var s=this.pkcs1pad(o.digest(),n);return this.key.$doPublic(new ur(e)).toBuffer().toString("hex")==s.toString("hex")}var f=Me.createVerify("RSA-"+n.toUpperCase());return f.update(t),f.verify(this.options.rsaUtils.exportKey("public"),e,r)},r.prototype.pkcs0pad=function(t){var e=Buffer.alloc(this.key.maxMessageLength-t.length);return e.fill(0),Buffer.concat([e,t])},r.prototype.pkcs0unpad=function(t){return"function"==typeof t.lastIndexOf?t.slice(t.lastIndexOf("\0")+1,t.length):t.slice(String.prototype.lastIndexOf.call(t,"\0")+1,t.length)},r.prototype.pkcs1pad=function(t,e){var r=vn[e];if(!r)throw Error("Unsupported hash algorithm");var n=Buffer.concat([r,t]);if(n.length+10>this.key.encryptedDataLength)throw Error("Key is too short for signing algorithm ("+e+")");var i=Buffer.alloc(this.key.encryptedDataLength-n.length-1);return i.fill(255,0,i.length-1),i[0]=1,i[i.length-1]=0,Buffer.concat([i,n])},new r(t,e)};var wn=t(function(t){t.exports={isEncryption:!0,isSignature:!1},t.exports.digestLength={md4:16,md5:16,ripemd160:20,rmd160:20,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64};t.exports.eme_oaep_mgf1=function(e,r,n){n=n||"sha1";for(var i,o=t.exports.digestLength[n],s=Math.ceil(r/o),f=Buffer.alloc(o*s),u=Buffer.alloc(4),h=0;h<s;++h)(i=Me.createHash(n)).update(e),u.writeUInt32BE(h,0),i.update(u),i.digest().copy(f,h*o);return f.slice(0,r)},t.exports.makeScheme=function(e,r){function n(t,e){this.key=t,this.options=e}return n.prototype.maxMessageLength=function(){return this.key.encryptedDataLength-2*t.exports.digestLength[this.options.encryptionSchemeOptions.hash||"sha1"]-2},n.prototype.encPad=function(e){var r=this.options.encryptionSchemeOptions.hash||"sha1",n=this.options.encryptionSchemeOptions.mgf||t.exports.eme_oaep_mgf1,i=this.options.encryptionSchemeOptions.label||Buffer.alloc(0),o=this.key.encryptedDataLength,s=t.exports.digestLength[r];if(e.length>o-2*s-2)throw new Error("Message is too long to encode into an encoded message with a length of "+o+" bytes, increaseemLen to fix this error (minimum value for given parameters and options: "+(o-2*s-2)+")");var f=Me.createHash(r);f.update(i),f=f.digest();var u=Buffer.alloc(o-e.length-2*s-1);u.fill(0),u[u.length-1]=1;for(var h=Buffer.concat([f,u,e]),a=Me.randomBytes(s),c=n(a,h.length,r),p=0;p<h.length;p++)h[p]^=c[p];for(c=n(h,s,r),p=0;p<a.length;p++)a[p]^=c[p];var l=Buffer.alloc(1+a.length+h.length);return l[0]=0,a.copy(l,1),h.copy(l,1+a.length),l},n.prototype.encUnPad=function(e){var r=this.options.encryptionSchemeOptions.hash||"sha1",n=this.options.encryptionSchemeOptions.mgf||t.exports.eme_oaep_mgf1,i=this.options.encryptionSchemeOptions.label||Buffer.alloc(0),o=t.exports.digestLength[r];if(e.length<2*o+2)throw new Error("Error decoding message, the supplied message is not long enough to be a valid OAEP encoded message");for(var s=e.slice(1,o+1),f=e.slice(1+o),u=n(f,o,r),h=0;h<s.length;h++)s[h]^=u[h];for(u=n(s,f.length,r),h=0;h<f.length;h++)f[h]^=u[h];var a=Me.createHash(r);if(a.update(i),a=a.digest(),f.slice(0,o).toString("hex")!=a.toString("hex"))throw new Error("Error decoding message, the lHash calculated from the label provided and the lHash in the encrypted data do not match.");for(h=o;0===f[h++]&&h<f.length;);if(1!=f[h-1])throw new Error("Error decoding message, there is no padding message separator byte");return f.slice(h)},new n(e,r)}}),On=(wn.isEncryption,wn.isSignature,wn.digestLength,wn.eme_oaep_mgf1,wn.makeScheme,{isEncryption:!1,isSignature:!0});On.makeScheme=function(t,e){function r(t,e){this.key=t,this.options=e}var n=Tn.pkcs1_oaep;return r.prototype.sign=function(t){var e=Me.createHash(this.options.signingSchemeOptions.hash||"sha1");e.update(t);var r=this.emsa_pss_encode(e.digest(),this.key.keySize-1);return this.key.$doPrivate(new ur(r)).toBuffer(this.key.encryptedDataLength)},r.prototype.verify=function(t,e,r){r&&(e=Buffer.from(e,r)),e=new ur(e);var n=Math.ceil((this.key.keySize-1)/8),i=this.key.$doPublic(e).toBuffer(n),o=Me.createHash(this.options.signingSchemeOptions.hash||"sha1");return o.update(t),this.emsa_pss_verify(o.digest(),i,this.key.keySize-1)},r.prototype.emsa_pss_encode=function(t,e){var r=this.options.signingSchemeOptions.hash||"sha1",i=this.options.signingSchemeOptions.mgf||n.eme_oaep_mgf1,o=this.options.signingSchemeOptions.saltLength||20,s=n.digestLength[r],f=Math.ceil(e/8);if(f<s+o+2)throw new Error("Output length passed to emBits("+e+") is too small for the options specified("+r+", "+o+"). To fix this issue increase the value of emBits. (minimum size: "+(8*s+8*o+9)+")");var u=Me.randomBytes(o),h=Buffer.alloc(8+s+o);h.fill(0,0,8),t.copy(h,8),u.copy(h,8+t.length);var a=Me.createHash(r);a.update(h),a=a.digest();var c=Buffer.alloc(f-u.length-s-2);c.fill(0);var p=Buffer.alloc(c.length+1+u.length);c.copy(p),p[c.length]=1,u.copy(p,c.length+1);for(var l=i(a,p.length,r),y=Buffer.alloc(p.length),g=0;g<l.length;g++)y[g]=p[g]^l[g];var m=8*f-e;y[0]&=255^255>>8-m<<8-m;var d=Buffer.alloc(y.length+a.length+1);return y.copy(d,0),a.copy(d,y.length),d[d.length-1]=188,d},r.prototype.emsa_pss_verify=function(t,e,r){var i=this.options.signingSchemeOptions.hash||"sha1",o=this.options.signingSchemeOptions.mgf||n.eme_oaep_mgf1,s=this.options.signingSchemeOptions.saltLength||20,f=n.digestLength[i],u=Math.ceil(r/8);if(u<f+s+2||188!=e[e.length-1])return!1;var h=Buffer.alloc(u-f-1);e.copy(h,0,0,u-f-1);for(var a=0,c=0,p=8*u-r;c<p;c++)a|=1<<7-c;if(0!=(h[0]&a))return!1;var l=e.slice(u-f-1,u-1),y=o(l,h.length,i);for(c=0;c<h.length;c++)h[c]^=y[c];for(a=255^255>>8-(p=8*u-r)<<8-p,h[0]&=a,c=0;0===h[c]&&c<h.length;c++);if(1!=h[c])return!1;var g=h.slice(h.length-s),m=Buffer.alloc(8+f+s);m.fill(0,0,8),t.copy(m,8),g.copy(m,8+t.length);var d=Me.createHash(i);return d.update(m),d=d.digest(),l.toString("hex")===d.toString("hex")},new r(t,e)};var Tn=t(function(t){t.exports={pkcs1:_n,pkcs1_oaep:wn,pss:On,isEncryption:function(e){return t.exports[e]&&t.exports[e].isEncryption},isSignature:function(e){return t.exports[e]&&t.exports[e].isSignature}}}),Bn=(Tn.pkcs1,Tn.pkcs1_oaep,Tn.pss,Tn.isEncryption,Tn.isSignature,function(t,e){return function(t,e){var r=Tn.pkcs1.makeScheme(t,e);return{encrypt:function(e,n){var i,o;return n?(i=new ur(r.encPad(e,{type:1})),o=t.$doPrivate(i)):(i=new ur(t.encryptionScheme.encPad(e)),o=t.$doPublic(i)),o.toBuffer(t.encryptedDataLength)},decrypt:function(e,n){var i,o=new ur(e);return n?(i=t.$doPublic(o),r.encUnPad(i.toBuffer(t.encryptedDataLength),{type:1})):(i=t.$doPrivate(o),t.encryptionScheme.encUnPad(i.toBuffer(t.encryptedDataLength)))}}}(t,e)}),An=Ce._,In={BigInteger:ur,Key:function(){function t(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}return t.prototype.setOptions=function(t){var e=Tn[t.signingScheme],r=Tn[t.encryptionScheme];e===r?this.signingScheme=this.encryptionScheme=r.makeScheme(this,t):(this.encryptionScheme=r.makeScheme(this,t),this.signingScheme=e.makeScheme(this,t)),this.encryptEngine=Bn(this,t)},t.prototype.generate=function(t,e){var r=t>>1;this.e=U(e,16);for(var n=new ur(e,16);;){for(;this.p=new ur(t-r,1),0!==this.p.subtract(ur.ONE).gcd(n).compareTo(ur.ONE)||!this.p.isProbablePrime(10););for(;this.q=new ur(r,1),0!==this.q.subtract(ur.ONE).gcd(n).compareTo(ur.ONE)||!this.q.isProbablePrime(10););if(0>=this.p.compareTo(this.q)){var i=this.p;this.p=this.q,this.q=i}var o=this.p.subtract(ur.ONE),s=this.q.subtract(ur.ONE),f=o.multiply(s);if(0===f.gcd(n).compareTo(ur.ONE)){if(this.n=this.p.multiply(this.q),this.n.bitLength()<t)continue;this.d=n.modInverse(f),this.dmp1=this.d.mod(o),this.dmq1=this.d.mod(s),this.coeff=this.q.modInverse(this.p);break}}this.$$recalculateCache()},t.prototype.setPrivate=function(t,e,r,n,i,o,s,f){if(!(t&&e&&r&&0<t.length&&(An.isNumber(e)||0<e.length)&&0<r.length))throw Error("Invalid RSA private key");this.n=new ur(t),this.e=An.isNumber(e)?e:Ce.get32IntFromBuffer(e,0),this.d=new ur(r),n&&i&&o&&s&&f&&(this.p=new ur(n),this.q=new ur(i),this.dmp1=new ur(o),this.dmq1=new ur(s),this.coeff=new ur(f)),this.$$recalculateCache()},t.prototype.setPublic=function(t,e){if(!(t&&e&&0<t.length&&(An.isNumber(e)||0<e.length)))throw Error("Invalid RSA public key");this.n=new ur(t),this.e=An.isNumber(e)?e:Ce.get32IntFromBuffer(e,0),this.$$recalculateCache()},t.prototype.$doPrivate=function(t){if(this.p||this.q)return t.modPow(this.d,this.n);for(var e=t.mod(this.p).modPow(this.dmp1,this.p),r=t.mod(this.q).modPow(this.dmq1,this.q);0>e.compareTo(r);)e=e.add(this.p);return e.subtract(r).multiply(this.coeff).mod(this.p).multiply(this.q).add(r)},t.prototype.$doPublic=function(t){return t.modPowInt(this.e,this.n)},t.prototype.encrypt=function(t,e){var r=[],n=[],i=t.length,o=Math.ceil(i/this.maxMessageLength)||1,s=Math.ceil(i/o||1);if(1==o)r.push(t);else for(var f=0;f<o;f++)r.push(t.slice(f*s,(f+1)*s));for(var u=0;u<r.length;u++)n.push(this.encryptEngine.encrypt(r[u],e));return Buffer.concat(n)},t.prototype.decrypt=function(t,e){if(0<t.length%this.encryptedDataLength)throw Error("Incorrect data or key");for(var r=[],n=0,i=0,o=t.length/this.encryptedDataLength,s=0;s<o;s++)i=(n=s*this.encryptedDataLength)+this.encryptedDataLength,r.push(this.encryptEngine.decrypt(t.slice(n,Math.min(i,t.length)),e));return Buffer.concat(r)},t.prototype.sign=function(){return this.signingScheme.sign.apply(this.signingScheme,arguments)},t.prototype.verify=function(){return this.signingScheme.verify.apply(this.signingScheme,arguments)},t.prototype.isPrivate=function(){return this.n&&this.e&&this.d||!1},t.prototype.isPublic=function(t){return this.n&&this.e&&!(t&&this.d)||!1},T(t.prototype,"keySize",{get:function(){return this.cache.keyBitLength}}),T(t.prototype,"encryptedDataLength",{get:function(){return this.cache.keyByteLength}}),T(t.prototype,"maxMessageLength",{get:function(){return this.encryptionScheme.maxMessageLength()}}),t.prototype.$$recalculateCache=function(){this.cache=this.cache||{},this.cache.keyBitLength=this.n.bitLength(),this.cache.keyByteLength=this.cache.keyBitLength+6>>3},t}()},Pn={newInvalidAsn1Error:function(t){var e=new Error;return e.name="InvalidAsn1Error",e.message=t||"",e}},Rn={EOC:0,Boolean:1,Integer:2,BitString:3,OctetString:4,Null:5,OID:6,ObjectDescriptor:7,External:8,Real:9,Enumeration:10,PDV:11,Utf8String:12,RelativeOID:13,Sequence:16,Set:17,NumericString:18,PrintableString:19,T61String:20,VideotexString:21,IA5String:22,UTCTime:23,GeneralizedTime:24,GraphicString:25,VisibleString:26,GeneralString:28,UniversalString:29,CharacterString:30,BMPString:31,Constructor:32,Context:128};global.setTimeout,global.clearTimeout;var Dn=global.performance||{},Nn=(Dn.now||Dn.mozNow||Dn.msNow||Dn.oNow||Dn.webkitNow,"function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t});function Ln(t,e){var r={seen:[],stylize:xn};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),Gn(e)?r.showHidden=e:e&&function(t,e){if(!e||!Fn(e))return t;var r=Object.keys(e),n=r.length;for(;n--;)t[r[n]]=e[r[n]]}(r,e),Yn(r.showHidden)&&(r.showHidden=!1),Yn(r.depth)&&(r.depth=2),Yn(r.colors)&&(r.colors=!1),Yn(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=kn),Cn(r,t,r.depth)}function kn(t,e){var r=Ln.styles[e];return r?"["+Ln.colors[r][0]+"m"+t+"["+Ln.colors[r][1]+"m":t}function xn(t,e){return t}function Cn(t,e,r){if(t.customInspect&&e&&zn(e.inspect)&&e.inspect!==Ln&&(!e.constructor||e.constructor.prototype!==e)){var n=e.inspect(r,t);return qn(n)||(n=Cn(t,n,r)),n}var i=function(t,e){if(Yn(e))return t.stylize("undefined","undefined");if(qn(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(n=e,"number"==typeof n)return t.stylize(""+e,"number");var n;if(Gn(e))return t.stylize(""+e,"boolean");if(Hn(e))return t.stylize("null","null")}(t,e);if(i)return i;var o=Object.keys(e),s=function(t){var e={};return t.forEach(function(t,r){e[t]=!0}),e}(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(e)),$n(e)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return Mn(e);if(0===o.length){if(zn(e)){var f=e.name?": "+e.name:"";return t.stylize("[Function"+f+"]","special")}if(jn(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(Kn(e))return t.stylize(Date.prototype.toString.call(e),"date");if($n(e))return Mn(e)}var u,h,a="",c=!1,p=["{","}"];(u=e,Array.isArray(u)&&(c=!0,p=["[","]"]),zn(e))&&(a=" [Function"+(e.name?": "+e.name:"")+"]");return jn(e)&&(a=" "+RegExp.prototype.toString.call(e)),Kn(e)&&(a=" "+Date.prototype.toUTCString.call(e)),$n(e)&&(a=" "+Mn(e)),0!==o.length||c&&0!=e.length?r<0?jn(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special"):(t.seen.push(e),h=c?function(t,e,r,n,i){for(var o=[],s=0,f=e.length;s<f;++s)Xn(e,String(s))?o.push(Un(t,e,r,n,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(Un(t,e,r,n,i,!0))}),o}(t,e,r,s,o):o.map(function(n){return Un(t,e,r,s,n,c)}),t.seen.pop(),function(t,e,r){if(t.reduce(function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1];return r[0]+e+" "+t.join(", ")+" "+r[1]}(h,a,p)):p[0]+a+p[1]}function Mn(t){return"["+Error.prototype.toString.call(t)+"]"}function Un(t,e,r,n,i,o){var s,f,u;if((u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?f=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(f=t.stylize("[Setter]","special")),Xn(n,i)||(s="["+i+"]"),f||(t.seen.indexOf(u.value)<0?(f=Hn(r)?Cn(t,u.value,null):Cn(t,u.value,r-1)).indexOf("\n")>-1&&(f=o?f.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+f.split("\n").map(function(t){return"   "+t}).join("\n")):f=t.stylize("[Circular]","special")),Yn(s)){if(o&&i.match(/^\d+$/))return f;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+f}function Gn(t){return"boolean"==typeof t}function Hn(t){return null===t}function qn(t){return"string"==typeof t}function Yn(t){return void 0===t}function jn(t){return Fn(t)&&"[object RegExp]"===Wn(t)}function Fn(t){return"object"==typeof t&&null!==t}function Kn(t){return Fn(t)&&"[object Date]"===Wn(t)}function $n(t){return Fn(t)&&("[object Error]"===Wn(t)||t instanceof Error)}function zn(t){return"function"==typeof t}function Vn(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t}function Wn(t){return Object.prototype.toString.call(t)}function Xn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Zn(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0}Ln.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},Ln.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var Jn,Qn=Object.prototype.hasOwnProperty,ti=Object.keys||function(t){var e=[];for(var r in t)Qn.call(t,r)&&e.push(r);return e},ei=Array.prototype.slice;function ri(){return void 0!==Jn?Jn:Jn="foo"===function(){}.name}function ni(t){return Object.prototype.toString.call(t)}function ii(t){return!an(t)&&("function"==typeof global.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}function oi(t,e){t||ci(t,!0,e,"==",pi)}var si=/\s*function\s+([^\(\s]*)\s*/;function fi(t){if(zn(t)){if(ri())return t.name;var e=t.toString().match(si);return e&&e[1]}}function ui(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=function(t){return hi(ai(t.actual),128)+" "+t.operator+" "+hi(ai(t.expected),128)}(this),this.generatedMessage=!0);var e=t.stackStartFunction||ci;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var r=new Error;if(r.stack){var n=r.stack,i=fi(e),o=n.indexOf("\n"+i);if(o>=0){var s=n.indexOf("\n",o+1);n=n.substring(s+1)}this.stack=n}}}function hi(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function ai(t){if(ri()||!zn(t))return Ln(t);var e=fi(t);return"[Function"+(e?": "+e:"")+"]"}function ci(t,e,r,n,i){throw new ui({message:r,actual:t,expected:e,operator:n,stackStartFunction:i})}function pi(t,e){t||ci(t,!0,e,"==",pi)}function li(t,e,r,n){if(t===e)return!0;if(an(t)&&an(e))return 0===Zn(t,e);if(Kn(t)&&Kn(e))return t.getTime()===e.getTime();if(jn(t)&&jn(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(ii(t)&&ii(e)&&ni(t)===ni(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===Zn(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(an(t)!==an(e))return!1;var i=(n=n||{actual:[],expected:[]}).actual.indexOf(t);return-1!==i&&i===n.expected.indexOf(e)||(n.actual.push(t),n.expected.push(e),function(t,e,r,n){if(null==t||null==e)return!1;if(Vn(t)||Vn(e))return t===e;if(r&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var i=yi(t),o=yi(e);if(i&&!o||!i&&o)return!1;if(i)return t=ei.call(t),e=ei.call(e),li(t,e,r);var s,f,u=ti(t),h=ti(e);if(u.length!==h.length)return!1;for(u.sort(),h.sort(),f=u.length-1;f>=0;f--)if(u[f]!==h[f])return!1;for(f=u.length-1;f>=0;f--)if(s=u[f],!li(t[s],e[s],r,n))return!1;return!0}(t,e,r,n))}return r?t===e:t==e}function yi(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function gi(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function mi(t,e,r,n){var i;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null),i=function(t){var e;try{t()}catch(t){e=t}return e}(e),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),t&&!i&&ci(i,r,"Missing expected exception"+n);var o="string"==typeof n,s=!t&&i&&!r;if((!t&&$n(i)&&o&&gi(i,r)||s)&&ci(i,r,"Got unwanted exception"+n),t&&i&&r&&!gi(i,r)||!t&&i)throw i}oi.AssertionError=ui,Nn(ui,Error),oi.fail=ci,oi.ok=pi,oi.equal=function t(e,r,n){e!=r&&ci(e,r,n,"==",t)},oi.notEqual=function t(e,r,n){e==r&&ci(e,r,n,"!=",t)},oi.deepEqual=function t(e,r,n){li(e,r,!1)||ci(e,r,n,"deepEqual",t)},oi.deepStrictEqual=function t(e,r,n){li(e,r,!0)||ci(e,r,n,"deepStrictEqual",t)},oi.notDeepEqual=function t(e,r,n){li(e,r,!1)&&ci(e,r,n,"notDeepEqual",t)},oi.notDeepStrictEqual=function t(e,r,n){li(e,r,!0)&&ci(e,r,n,"notDeepStrictEqual",t)},oi.strictEqual=function t(e,r,n){e!==r&&ci(e,r,n,"===",t)},oi.notStrictEqual=function t(e,r,n){e===r&&ci(e,r,n,"!==",t)},oi.throws=function(t,e,r){mi(!0,t,e,r)},oi.doesNotThrow=function(t,e,r){mi(!1,t,e,r)},oi.ifError=function(t){if(t)throw t};var di,Si=pn.Buffer,Ei={};for(di in pn)pn.hasOwnProperty(di)&&"SlowBuffer"!==di&&"Buffer"!==di&&(Ei[di]=pn[di]);var vi=Ei.Buffer={};for(di in Si)Si.hasOwnProperty(di)&&"allocUnsafe"!==di&&"allocUnsafeSlow"!==di&&(vi[di]=Si[di]);if(Ei.Buffer.prototype=Si.prototype,vi.from&&vi.from!==Uint8Array.from||(vi.from=function(t,e,r){if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof t);if(t&&void 0===t.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);return Si(t,e,r)}),vi.alloc||(vi.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError('The "size" argument must be of type number. Received type '+typeof t);if(t<0||t>=2*(1<<30))throw new RangeError('The value "'+t+'" is invalid for option "size"');var n=Si(t);return e&&0!==e.length?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n}),!Ei.kStringMaxLength)try{Ei.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch(t){}Ei.constants||(Ei.constants={MAX_LENGTH:Ei.kMaxLength},Ei.kStringMaxLength&&(Ei.constants.MAX_STRING_LENGTH=Ei.kStringMaxLength));var bi=Ei,_i=bi.Buffer,wi=Pn.newInvalidAsn1Error;function Oi(t){if(!t||!_i.isBuffer(t))throw new TypeError("data must be a node Buffer");this._buf=t,this._size=t.length,this._len=0,this._offset=0}Object.defineProperty(Oi.prototype,"length",{enumerable:!0,get:function(){return this._len}}),Object.defineProperty(Oi.prototype,"offset",{enumerable:!0,get:function(){return this._offset}}),Object.defineProperty(Oi.prototype,"remain",{get:function(){return this._size-this._offset}}),Object.defineProperty(Oi.prototype,"buffer",{get:function(){return this._buf.slice(this._offset)}}),Oi.prototype.readByte=function(t){if(this._size-this._offset<1)return null;var e=255&this._buf[this._offset];return t||(this._offset+=1),e},Oi.prototype.peek=function(){return this.readByte(!0)},Oi.prototype.readLength=function(t){if(void 0===t&&(t=this._offset),t>=this._size)return null;var e=255&this._buf[t++];if(null===e)return null;if(128==(128&e)){if(0===(e&=127))throw wi("Indefinite length not supported");if(e>4)throw wi("encoding too long");if(this._size-t<e)return null;this._len=0;for(var r=0;r<e;r++)this._len=(this._len<<8)+(255&this._buf[t++])}else this._len=e;return t},Oi.prototype.readSequence=function(t){var e=this.peek();if(null===e)return null;if(void 0!==t&&t!==e)throw wi("Expected 0x"+t.toString(16)+": got 0x"+e.toString(16));var r=this.readLength(this._offset+1);return null===r?null:(this._offset=r,e)},Oi.prototype.readInt=function(){return this._readTag(Rn.Integer)},Oi.prototype.readBoolean=function(){return 0!==this._readTag(Rn.Boolean)},Oi.prototype.readEnumeration=function(){return this._readTag(Rn.Enumeration)},Oi.prototype.readString=function(t,e){t||(t=Rn.OctetString);var r=this.peek();if(null===r)return null;if(r!==t)throw wi("Expected 0x"+t.toString(16)+": got 0x"+r.toString(16));var n=this.readLength(this._offset+1);if(null===n)return null;if(this.length>this._size-n)return null;if(this._offset=n,0===this.length)return e?_i.alloc(0):"";var i=this._buf.slice(this._offset,this._offset+this.length);return this._offset+=this.length,e?i:i.toString("utf8")},Oi.prototype.readOID=function(t){t||(t=Rn.OID);var e=this.readString(t,!0);if(null===e)return null;for(var r=[],n=0,i=0;i<e.length;i++){var o=255&e[i];n<<=7,n+=127&o,0==(128&o)&&(r.push(n),n=0)}return n=r.shift(),r.unshift(n%40),r.unshift(n/40>>0),r.join(".")},Oi.prototype._readTag=function(t){oi.ok(void 0!==t);var e=this.peek();if(null===e)return null;if(e!==t)throw wi("Expected 0x"+t.toString(16)+": got 0x"+e.toString(16));var r=this.readLength(this._offset+1);if(null===r)return null;if(this.length>4)throw wi("Integer too long: "+this.length);if(this.length>this._size-r)return null;this._offset=r;for(var n=this._buf[this._offset],i=0,o=0;o<this.length;o++)i<<=8,i|=255&this._buf[this._offset++];return 128==(128&n)&&4!==o&&(i-=1<<8*o),i>>0};var Ti=Oi,Bi=bi.Buffer,Ai=Pn.newInvalidAsn1Error,Ii={size:1024,growthFactor:8};function Pi(t){t=function(t,e){return oi.ok(t),oi.equal(typeof t,"object"),oi.ok(e),oi.equal(typeof e,"object"),Object.getOwnPropertyNames(t).forEach(function(r){if(!e[r]){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n)}}),e}(Ii,t||{}),this._buf=Bi.alloc(t.size||1024),this._size=this._buf.length,this._offset=0,this._options=t,this._seq=[]}Object.defineProperty(Pi.prototype,"buffer",{get:function(){if(this._seq.length)throw Ai(this._seq.length+" unended sequence(s)");return this._buf.slice(0,this._offset)}}),Pi.prototype.writeByte=function(t){if("number"!=typeof t)throw new TypeError("argument must be a Number");this._ensure(1),this._buf[this._offset++]=t},Pi.prototype.writeInt=function(t,e){if("number"!=typeof t)throw new TypeError("argument must be a Number");"number"!=typeof e&&(e=Rn.Integer);for(var r=4;(0==(4286578688&t)||-8388608==(4286578688&t))&&r>1;)r--,t<<=8;if(r>4)throw Ai("BER ints cannot be > 0xffffffff");for(this._ensure(2+r),this._buf[this._offset++]=e,this._buf[this._offset++]=r;r-- >0;)this._buf[this._offset++]=(4278190080&t)>>>24,t<<=8},Pi.prototype.writeNull=function(){this.writeByte(Rn.Null),this.writeByte(0)},Pi.prototype.writeEnumeration=function(t,e){if("number"!=typeof t)throw new TypeError("argument must be a Number");return"number"!=typeof e&&(e=Rn.Enumeration),this.writeInt(t,e)},Pi.prototype.writeBoolean=function(t,e){if("boolean"!=typeof t)throw new TypeError("argument must be a Boolean");"number"!=typeof e&&(e=Rn.Boolean),this._ensure(3),this._buf[this._offset++]=e,this._buf[this._offset++]=1,this._buf[this._offset++]=t?255:0},Pi.prototype.writeString=function(t,e){if("string"!=typeof t)throw new TypeError("argument must be a string (was: "+typeof t+")");"number"!=typeof e&&(e=Rn.OctetString);var r=Bi.byteLength(t);this.writeByte(e),this.writeLength(r),r&&(this._ensure(r),this._buf.write(t,this._offset),this._offset+=r)},Pi.prototype.writeBuffer=function(t,e){if("number"!=typeof e)throw new TypeError("tag must be a number");if(!Bi.isBuffer(t))throw new TypeError("argument must be a buffer");this.writeByte(e),this.writeLength(t.length),this._ensure(t.length),t.copy(this._buf,this._offset,0,t.length),this._offset+=t.length},Pi.prototype.writeStringArray=function(t){if(!t instanceof Array)throw new TypeError("argument must be an Array[String]");var e=this;t.forEach(function(t){e.writeString(t)})},Pi.prototype.writeOID=function(t,e){if("string"!=typeof t)throw new TypeError("argument must be a string");if("number"!=typeof e&&(e=Rn.OID),!/^([0-9]+\.){3,}[0-9]+$/.test(t))throw new Error("argument is not a valid OID string");var r=t.split("."),n=[];n.push(40*parseInt(r[0],10)+parseInt(r[1],10)),r.slice(2).forEach(function(t){!function(t,e){e<128?t.push(e):e<16384?(t.push(e>>>7|128),t.push(127&e)):e<2097152?(t.push(e>>>14|128),t.push(255&(e>>>7|128)),t.push(127&e)):e<268435456?(t.push(e>>>21|128),t.push(255&(e>>>14|128)),t.push(255&(e>>>7|128)),t.push(127&e)):(t.push(255&(e>>>28|128)),t.push(255&(e>>>21|128)),t.push(255&(e>>>14|128)),t.push(255&(e>>>7|128)),t.push(127&e))}(n,parseInt(t,10))});var i=this;this._ensure(2+n.length),this.writeByte(e),this.writeLength(n.length),n.forEach(function(t){i.writeByte(t)})},Pi.prototype.writeLength=function(t){if("number"!=typeof t)throw new TypeError("argument must be a Number");if(this._ensure(4),t<=127)this._buf[this._offset++]=t;else if(t<=255)this._buf[this._offset++]=129,this._buf[this._offset++]=t;else if(t<=65535)this._buf[this._offset++]=130,this._buf[this._offset++]=t>>8,this._buf[this._offset++]=t;else{if(!(t<=16777215))throw Ai("Length too long (> 4 bytes)");this._buf[this._offset++]=131,this._buf[this._offset++]=t>>16,this._buf[this._offset++]=t>>8,this._buf[this._offset++]=t}},Pi.prototype.startSequence=function(t){"number"!=typeof t&&(t=Rn.Sequence|Rn.Constructor),this.writeByte(t),this._seq.push(this._offset),this._ensure(3),this._offset+=3},Pi.prototype.endSequence=function(){var t=this._seq.pop(),e=t+3,r=this._offset-e;if(r<=127)this._shift(e,r,-2),this._buf[t]=r;else if(r<=255)this._shift(e,r,-1),this._buf[t]=129,this._buf[t+1]=r;else if(r<=65535)this._buf[t]=130,this._buf[t+1]=r>>8,this._buf[t+2]=r;else{if(!(r<=16777215))throw Ai("Sequence too long");this._shift(e,r,1),this._buf[t]=131,this._buf[t+1]=r>>16,this._buf[t+2]=r>>8,this._buf[t+3]=r}},Pi.prototype._shift=function(t,e,r){oi.ok(void 0!==t),oi.ok(void 0!==e),oi.ok(r),this._buf.copy(this._buf,t+r,t,t+e),this._offset+=r},Pi.prototype._ensure=function(t){if(oi.ok(t),this._size-this._offset<t){var e=this._size*this._options.growthFactor;e-this._offset<t&&(e+=t);var r=Bi.alloc(e);this._buf.copy(r,0,0,this._offset),this._buf=r,this._size=e}};var Ri=Pi,Di=t(function(t){for(var e in t.exports={Reader:Ti,Writer:Ri},Rn)Rn.hasOwnProperty(e)&&(t.exports[e]=Rn[e]);for(var r in Pn)Pn.hasOwnProperty(r)&&(t.exports[r]=Pn[r])}),Ni=(Di.Reader,Di.Writer,{Ber:Di,BerReader:Di.Reader,BerWriter:Di.Writer}),Li=t(function(t){var e=Ni.Ber,r=Ce._,n=Ce;t.exports={privateExport:function(t,r){r=r||{};var i=t.n.toBuffer(),o=t.d.toBuffer(),s=t.p.toBuffer(),f=t.q.toBuffer(),u=t.dmp1.toBuffer(),h=t.dmq1.toBuffer(),a=t.coeff.toBuffer(),c=i.length+o.length+s.length+f.length+u.length+h.length+a.length+512,p=new e.Writer({size:c});return p.startSequence(),p.writeInt(0),p.writeBuffer(i,2),p.writeInt(t.e),p.writeBuffer(o,2),p.writeBuffer(s,2),p.writeBuffer(f,2),p.writeBuffer(u,2),p.writeBuffer(h,2),p.writeBuffer(a,2),p.endSequence(),"der"===r.type?p.buffer:"-----BEGIN RSA PRIVATE KEY-----\n"+n.linebrk(p.buffer.toString("base64"),64)+"\n-----END RSA PRIVATE KEY-----"},privateImport:function(t,i,o){var s;if("der"!==(o=o||{}).type){if(Buffer.isBuffer(i)&&(i=i.toString("utf8")),!r.isString(i))throw Error("Unsupported key format");var f=n.trimSurroundingText(i,"-----BEGIN RSA PRIVATE KEY-----","-----END RSA PRIVATE KEY-----").replace(/\s+|\n\r|\n|\r$/gm,"");s=Buffer.from(f,"base64")}else{if(!Buffer.isBuffer(i))throw Error("Unsupported key format");s=i}var u=new e.Reader(s);u.readSequence(),u.readString(2,!0),t.setPrivate(u.readString(2,!0),u.readString(2,!0),u.readString(2,!0),u.readString(2,!0),u.readString(2,!0),u.readString(2,!0),u.readString(2,!0),u.readString(2,!0))},publicExport:function(t,r){r=r||{};var i=t.n.toBuffer(),o=i.length+512,s=new e.Writer({size:o});return s.startSequence(),s.writeBuffer(i,2),s.writeInt(t.e),s.endSequence(),"der"===r.type?s.buffer:"-----BEGIN RSA PUBLIC KEY-----\n"+n.linebrk(s.buffer.toString("base64"),64)+"\n-----END RSA PUBLIC KEY-----"},publicImport:function(t,i,o){var s;if("der"!==(o=o||{}).type){if(Buffer.isBuffer(i)&&(i=i.toString("utf8")),r.isString(i)){var f=n.trimSurroundingText(i,"-----BEGIN RSA PUBLIC KEY-----","-----END RSA PUBLIC KEY-----").replace(/\s+|\n\r|\n|\r$/gm,"");s=Buffer.from(f,"base64")}}else{if(!Buffer.isBuffer(i))throw Error("Unsupported key format");s=i}var u=new e.Reader(s);u.readSequence(),t.setPublic(u.readString(2,!0),u.readString(2,!0))},autoImport:function(e,r){return/^[\S\s]*-----BEGIN RSA PRIVATE KEY-----\s*(?=(([A-Za-z0-9+\/=]+\s*)+))\1-----END RSA PRIVATE KEY-----[\S\s]*$/g.test(r)?(t.exports.privateImport(e,r),!0):!!/^[\S\s]*-----BEGIN RSA PUBLIC KEY-----\s*(?=(([A-Za-z0-9+\/=]+\s*)+))\1-----END RSA PUBLIC KEY-----[\S\s]*$/g.test(r)&&(t.exports.publicImport(e,r),!0)}}}),ki=(Li.privateExport,Li.privateImport,Li.publicExport,Li.publicImport,Li.autoImport,t(function(t){var e=Ni.Ber,r=Ce._,n=Ce;t.exports={privateExport:function(t,r){r=r||{};var i=t.n.toBuffer(),o=t.d.toBuffer(),s=t.p.toBuffer(),f=t.q.toBuffer(),u=t.dmp1.toBuffer(),h=t.dmq1.toBuffer(),a=t.coeff.toBuffer(),c=i.length+o.length+s.length+f.length+u.length+h.length+a.length+512,p=new e.Writer({size:c});p.startSequence(),p.writeInt(0),p.writeBuffer(i,2),p.writeInt(t.e),p.writeBuffer(o,2),p.writeBuffer(s,2),p.writeBuffer(f,2),p.writeBuffer(u,2),p.writeBuffer(h,2),p.writeBuffer(a,2),p.endSequence();var l=new e.Writer({size:c});return l.startSequence(),l.writeInt(0),l.startSequence(),l.writeOID("1.2.840.113549.1.1.1"),l.writeNull(),l.endSequence(),l.writeBuffer(p.buffer,4),l.endSequence(),"der"===r.type?l.buffer:"-----BEGIN PRIVATE KEY-----\n"+n.linebrk(l.buffer.toString("base64"),64)+"\n-----END PRIVATE KEY-----"},privateImport:function(t,i,o){var s;if("der"!==(o=o||{}).type){if(Buffer.isBuffer(i)&&(i=i.toString("utf8")),!r.isString(i))throw Error("Unsupported key format");var f=n.trimSurroundingText(i,"-----BEGIN PRIVATE KEY-----","-----END PRIVATE KEY-----").replace("-----END PRIVATE KEY-----","").replace(/\s+|\n\r|\n|\r$/gm,"");s=Buffer.from(f,"base64")}else{if(!Buffer.isBuffer(i))throw Error("Unsupported key format");s=i}var u=new e.Reader(s);if(u.readSequence(),u.readInt(0),"1.2.840.113549.1.1.1"!==new e.Reader(u.readString(48,!0)).readOID(6,!0))throw Error("Invalid Public key format");var h=new e.Reader(u.readString(4,!0));h.readSequence(),h.readString(2,!0),t.setPrivate(h.readString(2,!0),h.readString(2,!0),h.readString(2,!0),h.readString(2,!0),h.readString(2,!0),h.readString(2,!0),h.readString(2,!0),h.readString(2,!0))},publicExport:function(t,r){r=r||{};var i=t.n.toBuffer(),o=i.length+512,s=new e.Writer({size:o});s.writeByte(0),s.startSequence(),s.writeBuffer(i,2),s.writeInt(t.e),s.endSequence();var f=new e.Writer({size:o});return f.startSequence(),f.startSequence(),f.writeOID("1.2.840.113549.1.1.1"),f.writeNull(),f.endSequence(),f.writeBuffer(s.buffer,3),f.endSequence(),"der"===r.type?f.buffer:"-----BEGIN PUBLIC KEY-----\n"+n.linebrk(f.buffer.toString("base64"),64)+"\n-----END PUBLIC KEY-----"},publicImport:function(t,i,o){var s;if("der"!==(o=o||{}).type){if(Buffer.isBuffer(i)&&(i=i.toString("utf8")),r.isString(i)){var f=n.trimSurroundingText(i,"-----BEGIN PUBLIC KEY-----","-----END PUBLIC KEY-----").replace(/\s+|\n\r|\n|\r$/gm,"");s=Buffer.from(f,"base64")}}else{if(!Buffer.isBuffer(i))throw Error("Unsupported key format");s=i}var u=new e.Reader(s);if(u.readSequence(),"1.2.840.113549.1.1.1"!==new e.Reader(u.readString(48,!0)).readOID(6,!0))throw Error("Invalid Public key format");var h=new e.Reader(u.readString(3,!0));h.readByte(),h.readSequence(),t.setPublic(h.readString(2,!0),h.readString(2,!0))},autoImport:function(e,r){return/^[\S\s]*-----BEGIN PRIVATE KEY-----\s*(?=(([A-Za-z0-9+\/=]+\s*)+))\1-----END PRIVATE KEY-----[\S\s]*$/g.test(r)?(t.exports.privateImport(e,r),!0):!!/^[\S\s]*-----BEGIN PUBLIC KEY-----\s*(?=(([A-Za-z0-9+\/=]+\s*)+))\1-----END PUBLIC KEY-----[\S\s]*$/g.test(r)&&(t.exports.publicImport(e,r),!0)}}})),xi=(ki.privateExport,ki.privateImport,ki.publicExport,ki.publicImport,ki.autoImport,t(function(t){t.exports={privateExport:function(t){return{n:t.n.toBuffer(),e:t.e,d:t.d.toBuffer(),p:t.p.toBuffer(),q:t.q.toBuffer(),dmp1:t.dmp1.toBuffer(),dmq1:t.dmq1.toBuffer(),coeff:t.coeff.toBuffer()}},privateImport:function(t,e){if(!(e.n&&e.e&&e.d&&e.p&&e.q&&e.dmp1&&e.dmq1&&e.coeff))throw Error("Invalid key data");t.setPrivate(e.n,e.e,e.d,e.p,e.q,e.dmp1,e.dmq1,e.coeff)},publicExport:function(t){return{n:t.n.toBuffer(),e:t.e}},publicImport:function(t,e){if(!e.n||!e.e)throw Error("Invalid key data");t.setPublic(e.n,e.e)},autoImport:function(e,r){return!(!r.n||!r.e||(r.d&&r.p&&r.q&&r.dmp1&&r.dmq1&&r.coeff?(t.exports.privateImport(e,r),0):(t.exports.publicImport(e,r),0)))}}})),Ci=(xi.privateExport,xi.privateImport,xi.publicExport,xi.publicImport,xi.autoImport,t(function(t){function e(t){t=t.split("-");for(var e="private",r={type:"default"},n=1;n<t.length;n++)if(t[n])switch(t[n]){case"public":case"private":e=t[n];break;case"pem":r.type=t[n];break;case"der":r.type=t[n]}return{scheme:t[0],keyType:e,keyOpt:r}}t.exports={pkcs1:Li,pkcs8:ki,components:xi,isPrivateExport:function(e){return t.exports[e]&&"function"==typeof t.exports[e].privateExport},isPrivateImport:function(e){return t.exports[e]&&"function"==typeof t.exports[e].privateImport},isPublicExport:function(e){return t.exports[e]&&"function"==typeof t.exports[e].publicExport},isPublicImport:function(e){return t.exports[e]&&"function"==typeof t.exports[e].publicImport},detectAndImport:function(r,n,i){if(void 0===i){for(var o in t.exports)if("function"==typeof t.exports[o].autoImport&&t.exports[o].autoImport(r,n))return!0}else if(i){var s=e(i);if(!t.exports[s.scheme])throw Error("Unsupported key format");"private"===s.keyType?t.exports[s.scheme].privateImport(r,n,s.keyOpt):t.exports[s.scheme].publicImport(r,n,s.keyOpt)}return!1},detectAndExport:function(r,n){if(n){var i=e(n);if(t.exports[i.scheme]){if("private"===i.keyType){if(!r.isPrivate())throw Error("This is not private key");return t.exports[i.scheme].privateExport(r,i.keyOpt)}if(!r.isPublic())throw Error("This is not public key");return t.exports[i.scheme].publicExport(r,i.keyOpt)}throw Error("Unsupported key format")}}}})),Mi=(Ci.pkcs1,Ci.pkcs8,Ci.components,Ci.isPrivateExport,Ci.isPrivateImport,Ci.isPublicExport,Ci.isPublicImport,Ci.detectAndImport,Ci.detectAndExport,Ce._),Ui=Ce;return void 0===i.RSA_NO_PADDING&&(i.RSA_NO_PADDING=3),function(){function t(e,n,o){return this instanceof t?(Mi.isObject(n)&&(o=n,n=void 0),this.$options={signingScheme:i,signingSchemeOptions:{hash:"sha256",saltLength:null},encryptionScheme:r,encryptionSchemeOptions:{hash:"sha1",label:null},environment:Ui.detectEnvironment(),rsaUtils:this},this.keyPair=new In.Key,this.$cache={},Buffer.isBuffer(e)||Mi.isString(e)?this.importKey(e,n):Mi.isObject(e)&&this.generateKeyPair(e.b,e.e),void this.setOptions(o)):new t(e,n,o)}var e={node10:["md4","md5","ripemd160","sha1","sha224","sha256","sha384","sha512"],node:["md4","md5","ripemd160","sha1","sha224","sha256","sha384","sha512"],iojs:["md4","md5","ripemd160","sha1","sha224","sha256","sha384","sha512"],browser:["md5","ripemd160","sha1","sha256","sha512"]},r="pkcs1_oaep",i="pkcs1",o={private:"pkcs1-private-pem","private-der":"pkcs1-private-der",public:"pkcs8-public-pem","public-der":"pkcs8-public-der"};return t.prototype.setOptions=function(t){if((t=t||{}).environment&&(this.$options.environment=t.environment),t.signingScheme){if(Mi.isString(t.signingScheme)){var n=t.signingScheme.toLowerCase().split("-");1==n.length?-1<e.node.indexOf(n[0])?(this.$options.signingSchemeOptions={hash:n[0]},this.$options.signingScheme=i):(this.$options.signingScheme=n[0],this.$options.signingSchemeOptions={hash:null}):(this.$options.signingSchemeOptions={hash:n[1]},this.$options.signingScheme=n[0])}else Mi.isObject(t.signingScheme)&&(this.$options.signingScheme=t.signingScheme.scheme||i,this.$options.signingSchemeOptions=Mi.omit(t.signingScheme,"scheme"));if(!Tn.isSignature(this.$options.signingScheme))throw Error("Unsupported signing scheme");if(this.$options.signingSchemeOptions.hash&&-1===e[this.$options.environment].indexOf(this.$options.signingSchemeOptions.hash))throw Error("Unsupported hashing algorithm for "+this.$options.environment+" environment")}if(t.encryptionScheme){if(Mi.isString(t.encryptionScheme)?(this.$options.encryptionScheme=t.encryptionScheme.toLowerCase(),this.$options.encryptionSchemeOptions={}):Mi.isObject(t.encryptionScheme)&&(this.$options.encryptionScheme=t.encryptionScheme.scheme||r,this.$options.encryptionSchemeOptions=Mi.omit(t.encryptionScheme,"scheme")),!Tn.isEncryption(this.$options.encryptionScheme))throw Error("Unsupported encryption scheme");if(this.$options.encryptionSchemeOptions.hash&&-1===e[this.$options.environment].indexOf(this.$options.encryptionSchemeOptions.hash))throw Error("Unsupported hashing algorithm for "+this.$options.environment+" environment")}this.keyPair.setOptions(this.$options)},t.prototype.generateKeyPair=function(t,e){if(e=e||65537,0!=(t=t||2048)%8)throw Error("Key size must be a multiple of 8.");return this.keyPair.generate(t,e.toString(16)),this.$cache={},this},t.prototype.importKey=function(t,e){if(!t)throw Error("Empty key given");if(e&&(e=o[e]||e),!Ci.detectAndImport(this.keyPair,t,e)&&void 0===e)throw Error("Key format must be specified");return this.$cache={},this},t.prototype.exportKey=function(t){return t=o[t=t||"private"]||t,this.$cache[t]||(this.$cache[t]=Ci.detectAndExport(this.keyPair,t)),this.$cache[t]},t.prototype.isPrivate=function(){return this.keyPair.isPrivate()},t.prototype.isPublic=function(t){return this.keyPair.isPublic(t)},t.prototype.isEmpty=function(){return!(this.keyPair.n||this.keyPair.e||this.keyPair.d)},t.prototype.encrypt=function(t,e,r){return this.$$encryptKey(!1,t,e,r)},t.prototype.decrypt=function(t,e){return this.$$decryptKey(!1,t,e)},t.prototype.encryptPrivate=function(t,e,r){return this.$$encryptKey(!0,t,e,r)},t.prototype.decryptPublic=function(t,e){return this.$$decryptKey(!0,t,e)},t.prototype.$$encryptKey=function(t,e,r,n){try{var i=this.keyPair.encrypt(this.$getDataForEncrypt(e,n),t);return"buffer"!=r&&r?i.toString(r):i}catch(t){throw console.log(t),Error("Error during encryption. Original error: "+t)}},t.prototype.$$decryptKey=function(t,e,r){try{e=Mi.isString(e)?Buffer.from(e,"base64"):e;var n=this.keyPair.decrypt(e,t);if(null===n)throw Error("Key decrypt method returns null.");return this.$getDecryptedData(n,r)}catch(t){throw Error("Error during decryption (probably incorrect key). Original error: "+t)}},t.prototype.sign=function(t,e,r){if(!this.isPrivate())throw Error("This is not private key");var n=this.keyPair.sign(this.$getDataForEncrypt(t,r));return e&&"buffer"!=e&&(n=n.toString(e)),n},t.prototype.verify=function(t,e,r,n){if(!this.isPublic())throw Error("This is not public key");return n=n&&"buffer"!=n?n:null,this.keyPair.verify(this.$getDataForEncrypt(t,r),e,n)},t.prototype.getKeySize=function(){return this.keyPair.keySize},t.prototype.getMaxMessageSize=function(){return this.keyPair.maxMessageLength},t.prototype.$getDataForEncrypt=function(t,e){if(Mi.isString(t)||Mi.isNumber(t))return Buffer.from(""+t,e||"utf8");if(Buffer.isBuffer(t))return t;if(Mi.isObject(t))return Buffer.from(n(t));throw Error("Unexpected data type")},t.prototype.$getDecryptedData=function(t,e){return"buffer"==(e=e||"buffer")?t:"json"==e?JSON.parse(t.toString()):t.toString(e)},t}()});
//# sourceMappingURL=mini-rsa.min.js.map
